function um(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var sd={exports:{}},Yi={},id={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=Symbol.for("react.element"),fm=Symbol.for("react.portal"),mm=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),xm=Symbol.for("react.provider"),ym=Symbol.for("react.context"),vm=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),jm=Symbol.for("react.memo"),_m=Symbol.for("react.lazy"),yc=Symbol.iterator;function bm(e){return e===null||typeof e!="object"?null:(e=yc&&e[yc]||e["@@iterator"],typeof e=="function"?e:null)}var ad={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},od=Object.assign,ld={};function jr(e,t,n){this.props=e,this.context=t,this.refs=ld,this.updater=n||ad}jr.prototype.isReactComponent={};jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cd(){}cd.prototype=jr.prototype;function ul(e,t,n){this.props=e,this.context=t,this.refs=ld,this.updater=n||ad}var dl=ul.prototype=new cd;dl.constructor=ul;od(dl,jr.prototype);dl.isPureReactComponent=!0;var vc=Array.isArray,ud=Object.prototype.hasOwnProperty,hl={current:null},dd={key:!0,ref:!0,__self:!0,__source:!0};function hd(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ud.call(t,r)&&!dd.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ks,type:e,key:i,ref:o,props:s,_owner:hl.current}}function Nm(e,t){return{$$typeof:ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ks}function km(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wc=/\/+/g;function ja(e,t){return typeof e=="object"&&e!==null&&e.key!=null?km(""+e.key):t.toString(36)}function si(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ks:case fm:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ja(o,0):r,vc(s)?(n="",e!=null&&(n=e.replace(wc,"$&/")+"/"),si(s,t,n,"",function(u){return u})):s!=null&&(fl(s)&&(s=Nm(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",vc(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+ja(i,l);o+=si(i,t,n,c,s)}else if(c=bm(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+ja(i,l++),o+=si(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ms(e,t,n){if(e==null)return e;var r=[],s=0;return si(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Sm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},ii={transition:null},Em={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ii,ReactCurrentOwner:hl};function fd(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:Ms,forEach:function(e,t,n){Ms(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ms(e,function(){t++}),t},toArray:function(e){return Ms(e,function(t){return t})||[]},only:function(e){if(!fl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};A.Component=jr;A.Fragment=mm;A.Profiler=gm;A.PureComponent=ul;A.StrictMode=pm;A.Suspense=wm;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Em;A.act=fd;A.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=od({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=hl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ud.call(t,c)&&!dd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ks,type:e.type,key:s,ref:i,props:r,_owner:o}};A.createContext=function(e){return e={$$typeof:ym,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xm,_context:e},e.Consumer=e};A.createElement=hd;A.createFactory=function(e){var t=hd.bind(null,e);return t.type=e,t};A.createRef=function(){return{current:null}};A.forwardRef=function(e){return{$$typeof:vm,render:e}};A.isValidElement=fl;A.lazy=function(e){return{$$typeof:_m,_payload:{_status:-1,_result:e},_init:Sm}};A.memo=function(e,t){return{$$typeof:jm,type:e,compare:t===void 0?null:t}};A.startTransition=function(e){var t=ii.transition;ii.transition={};try{e()}finally{ii.transition=t}};A.unstable_act=fd;A.useCallback=function(e,t){return Se.current.useCallback(e,t)};A.useContext=function(e){return Se.current.useContext(e)};A.useDebugValue=function(){};A.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};A.useEffect=function(e,t){return Se.current.useEffect(e,t)};A.useId=function(){return Se.current.useId()};A.useImperativeHandle=function(e,t,n){return Se.current.useImperativeHandle(e,t,n)};A.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};A.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};A.useMemo=function(e,t){return Se.current.useMemo(e,t)};A.useReducer=function(e,t,n){return Se.current.useReducer(e,t,n)};A.useRef=function(e){return Se.current.useRef(e)};A.useState=function(e){return Se.current.useState(e)};A.useSyncExternalStore=function(e,t,n){return Se.current.useSyncExternalStore(e,t,n)};A.useTransition=function(){return Se.current.useTransition()};A.version="18.3.1";id.exports=A;var v=id.exports;const Hn=dm(v),Cm=um({__proto__:null,default:Hn},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=v,Tm=Symbol.for("react.element"),Om=Symbol.for("react.fragment"),Rm=Object.prototype.hasOwnProperty,$m=Pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lm={key:!0,ref:!0,__self:!0,__source:!0};function md(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Rm.call(t,r)&&!Lm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Tm,type:e,key:i,ref:o,props:s,_owner:$m.current}}Yi.Fragment=Om;Yi.jsx=md;Yi.jsxs=md;sd.exports=Yi;var a=sd.exports,pd={exports:{}},ze={},gd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,R){var L=E.length;E.push(R);e:for(;0<L;){var G=L-1>>>1,de=E[G];if(0<s(de,R))E[G]=R,E[L]=de,L=G;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var R=E[0],L=E.pop();if(L!==R){E[0]=L;e:for(var G=0,de=E.length,Ls=de>>>1;G<Ls;){var hn=2*(G+1)-1,wa=E[hn],fn=hn+1,Ds=E[fn];if(0>s(wa,L))fn<de&&0>s(Ds,wa)?(E[G]=Ds,E[fn]=L,G=fn):(E[G]=wa,E[hn]=L,G=hn);else if(fn<de&&0>s(Ds,L))E[G]=Ds,E[fn]=L,G=fn;else break e}}return R}function s(E,R){var L=E.sortIndex-R.sortIndex;return L!==0?L:E.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,x=!1,w=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(E){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=E)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function _(E){if(j=!1,g(E),!w)if(n(c)!==null)w=!0,Je(b);else{var R=n(u);R!==null&&In(_,R.startTime-E)}}function b(E,R){w=!1,j&&(j=!1,p(P),P=-1),x=!0;var L=f;try{for(g(R),h=n(c);h!==null&&(!(h.expirationTime>R)||E&&!Ce());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var de=G(h.expirationTime<=R);R=e.unstable_now(),typeof de=="function"?h.callback=de:h===n(c)&&r(c),g(R)}else r(c);h=n(c)}if(h!==null)var Ls=!0;else{var hn=n(u);hn!==null&&In(_,hn.startTime-R),Ls=!1}return Ls}finally{h=null,f=L,x=!1}}var k=!1,S=null,P=-1,B=5,M=-1;function Ce(){return!(e.unstable_now()-M<B)}function $t(){if(S!==null){var E=e.unstable_now();M=E;var R=!0;try{R=S(!0,E)}finally{R?T():(k=!1,S=null)}}else k=!1}var T;if(typeof m=="function")T=function(){m($t)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,pe=Y.port2;Y.port1.onmessage=$t,T=function(){pe.postMessage(null)}}else T=function(){y($t,0)};function Je(E){S=E,k||(k=!0,T())}function In(E,R){P=y(function(){E(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,Je(b))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var L=f;f=R;try{return E()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,R){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var L=f;f=E;try{return R()}finally{f=L}},e.unstable_scheduleCallback=function(E,R,L){var G=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?G+L:G):L=G,E){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=L+de,E={id:d++,callback:R,priorityLevel:E,startTime:L,expirationTime:de,sortIndex:-1},L>G?(E.sortIndex=L,t(u,E),n(c)===null&&E===n(u)&&(j?(p(P),P=-1):j=!0,In(_,L-G))):(E.sortIndex=de,t(c,E),w||x||(w=!0,Je(b))),E},e.unstable_shouldYield=Ce,e.unstable_wrapCallback=function(E){var R=f;return function(){var L=f;f=R;try{return E.apply(this,arguments)}finally{f=L}}}})(xd);gd.exports=xd;var Dm=gd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm=v,Fe=Dm;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yd=new Set,ns={};function $n(e,t){dr(e,t),dr(e+"Capture",t)}function dr(e,t){for(ns[e]=t,e=0;e<t.length;e++)yd.add(t[e])}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=Object.prototype.hasOwnProperty,Am=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jc={},_c={};function Im(e){return to.call(_c,e)?!0:to.call(jc,e)?!1:Am.test(e)?_c[e]=!0:(jc[e]=!0,!1)}function Um(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fm(e,t,n,r){if(t===null||typeof t>"u"||Um(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var ml=/[\-:]([a-z])/g;function pl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ml,pl);ye[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ml,pl);ye[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ml,pl);ye[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function gl(e,t,n,r){var s=ye.hasOwnProperty(t)?ye[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fm(t,n,s,r)&&(n=null),r||s===null?Im(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tt=Mm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),Yn=Symbol.for("react.fragment"),xl=Symbol.for("react.strict_mode"),no=Symbol.for("react.profiler"),vd=Symbol.for("react.provider"),wd=Symbol.for("react.context"),yl=Symbol.for("react.forward_ref"),ro=Symbol.for("react.suspense"),so=Symbol.for("react.suspense_list"),vl=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),jd=Symbol.for("react.offscreen"),bc=Symbol.iterator;function Cr(e){return e===null||typeof e!="object"?null:(e=bc&&e[bc]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,_a;function Ur(e){if(_a===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_a=t&&t[1]||""}return`
`+_a+e}var ba=!1;function Na(e,t){if(!e||ba)return"";ba=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ba=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ur(e):""}function zm(e){switch(e.tag){case 5:return Ur(e.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return e=Na(e.type,!1),e;case 11:return e=Na(e.type.render,!1),e;case 1:return e=Na(e.type,!0),e;default:return""}}function io(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yn:return"Fragment";case Vn:return"Portal";case no:return"Profiler";case xl:return"StrictMode";case ro:return"Suspense";case so:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wd:return(e.displayName||"Context")+".Consumer";case vd:return(e._context.displayName||"Context")+".Provider";case yl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vl:return t=e.displayName||null,t!==null?t:io(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return io(e(t))}catch{}}return null}function Bm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return io(t);case 8:return t===xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qm(e){var t=_d(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=qm(e))}function bd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_d(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ao(e,t){var n=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Nc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nd(e,t){t=t.checked,t!=null&&gl(e,"checked",t,!1)}function oo(e,t){Nd(e,t);var n=sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&lo(e,t.type,sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lo(e,t,n){(t!=="number"||xi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fr=Array.isArray;function sr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function co(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Fr(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sn(n)}}function kd(e,t){var n=sn(t.value),r=sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ec(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Us,Ed=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Us=Us||document.createElement("div"),Us.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Us.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wm=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(e){Wm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wr[t]=Wr[e]})});function Cd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wr.hasOwnProperty(e)&&Wr[e]?(""+t).trim():t+"px"}function Pd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Cd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hm=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ho(e,t){if(t){if(Hm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function fo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function wl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var po=null,ir=null,ar=null;function Cc(e){if(e=Cs(e)){if(typeof po!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Xi(t),po(e.stateNode,e.type,t))}}function Td(e){ir?ar?ar.push(e):ar=[e]:ir=e}function Od(){if(ir){var e=ir,t=ar;if(ar=ir=null,Cc(e),t)for(e=0;e<t.length;e++)Cc(t[e])}}function Rd(e,t){return e(t)}function $d(){}var ka=!1;function Ld(e,t,n){if(ka)return e(t,n);ka=!0;try{return Rd(e,t,n)}finally{ka=!1,(ir!==null||ar!==null)&&($d(),Od())}}function ss(e,t){var n=e.stateNode;if(n===null)return null;var r=Xi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var go=!1;if(Nt)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){go=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{go=!1}function Vm(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Hr=!1,yi=null,vi=!1,xo=null,Ym={onError:function(e){Hr=!0,yi=e}};function Gm(e,t,n,r,s,i,o,l,c){Hr=!1,yi=null,Vm.apply(Ym,arguments)}function Qm(e,t,n,r,s,i,o,l,c){if(Gm.apply(this,arguments),Hr){if(Hr){var u=yi;Hr=!1,yi=null}else throw Error(N(198));vi||(vi=!0,xo=u)}}function Ln(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Dd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pc(e){if(Ln(e)!==e)throw Error(N(188))}function Km(e){var t=e.alternate;if(!t){if(t=Ln(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pc(s),e;if(i===r)return Pc(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Md(e){return e=Km(e),e!==null?Ad(e):null}function Ad(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ad(e);if(t!==null)return t;e=e.sibling}return null}var Id=Fe.unstable_scheduleCallback,Tc=Fe.unstable_cancelCallback,Jm=Fe.unstable_shouldYield,Xm=Fe.unstable_requestPaint,se=Fe.unstable_now,Zm=Fe.unstable_getCurrentPriorityLevel,jl=Fe.unstable_ImmediatePriority,Ud=Fe.unstable_UserBlockingPriority,wi=Fe.unstable_NormalPriority,ep=Fe.unstable_LowPriority,Fd=Fe.unstable_IdlePriority,Gi=null,ft=null;function tp(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Gi,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:sp,np=Math.log,rp=Math.LN2;function sp(e){return e>>>=0,e===0?32:31-(np(e)/rp|0)|0}var Fs=64,zs=4194304;function zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ji(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=zr(l):(i&=o,i!==0&&(r=zr(i)))}else o=n&~s,o!==0?r=zr(o):i!==0&&(r=zr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rt(t),s=1<<n,r|=e[n],t&=~s;return r}function ip(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ap(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-rt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=ip(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zd(){var e=Fs;return Fs<<=1,!(Fs&4194240)&&(Fs=64),e}function Sa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ss(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=n}function op(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function _l(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var W=0;function Bd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qd,bl,Wd,Hd,Vd,vo=!1,Bs=[],Qt=null,Kt=null,Jt=null,is=new Map,as=new Map,Bt=[],lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oc(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(t.pointerId)}}function Tr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Cs(t),t!==null&&bl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cp(e,t,n,r,s){switch(t){case"focusin":return Qt=Tr(Qt,e,t,n,r,s),!0;case"dragenter":return Kt=Tr(Kt,e,t,n,r,s),!0;case"mouseover":return Jt=Tr(Jt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return is.set(i,Tr(is.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,as.set(i,Tr(as.get(i)||null,e,t,n,r,s)),!0}return!1}function Yd(e){var t=wn(e.target);if(t!==null){var n=Ln(t);if(n!==null){if(t=n.tag,t===13){if(t=Dd(n),t!==null){e.blockedOn=t,Vd(e.priority,function(){Wd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mo=r,n.target.dispatchEvent(r),mo=null}else return t=Cs(n),t!==null&&bl(t),e.blockedOn=n,!1;t.shift()}return!0}function Rc(e,t,n){ai(e)&&n.delete(t)}function up(){vo=!1,Qt!==null&&ai(Qt)&&(Qt=null),Kt!==null&&ai(Kt)&&(Kt=null),Jt!==null&&ai(Jt)&&(Jt=null),is.forEach(Rc),as.forEach(Rc)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,vo||(vo=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,up)))}function os(e){function t(s){return Or(s,e)}if(0<Bs.length){Or(Bs[0],e);for(var n=1;n<Bs.length;n++){var r=Bs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qt!==null&&Or(Qt,e),Kt!==null&&Or(Kt,e),Jt!==null&&Or(Jt,e),is.forEach(t),as.forEach(t),n=0;n<Bt.length;n++)r=Bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)Yd(n),n.blockedOn===null&&Bt.shift()}var or=Tt.ReactCurrentBatchConfig,_i=!0;function dp(e,t,n,r){var s=W,i=or.transition;or.transition=null;try{W=1,Nl(e,t,n,r)}finally{W=s,or.transition=i}}function hp(e,t,n,r){var s=W,i=or.transition;or.transition=null;try{W=4,Nl(e,t,n,r)}finally{W=s,or.transition=i}}function Nl(e,t,n,r){if(_i){var s=wo(e,t,n,r);if(s===null)Ma(e,t,r,bi,n),Oc(e,r);else if(cp(s,e,t,n,r))r.stopPropagation();else if(Oc(e,r),t&4&&-1<lp.indexOf(e)){for(;s!==null;){var i=Cs(s);if(i!==null&&qd(i),i=wo(e,t,n,r),i===null&&Ma(e,t,r,bi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ma(e,t,r,null,n)}}var bi=null;function wo(e,t,n,r){if(bi=null,e=wl(r),e=wn(e),e!==null)if(t=Ln(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Dd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bi=e,null}function Gd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zm()){case jl:return 1;case Ud:return 4;case wi:case ep:return 16;case Fd:return 536870912;default:return 16}default:return 16}}var Vt=null,kl=null,oi=null;function Qd(){if(oi)return oi;var e,t=kl,n=t.length,r,s="value"in Vt?Vt.value:Vt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return oi=s.slice(e,1<r?1-r:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function $c(){return!1}function Be(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qs:$c,this.isPropagationStopped=$c,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Be(_r),Es=te({},_r,{view:0,detail:0}),fp=Be(Es),Ea,Ca,Rr,Qi=te({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(Ea=e.screenX-Rr.screenX,Ca=e.screenY-Rr.screenY):Ca=Ea=0,Rr=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),Lc=Be(Qi),mp=te({},Qi,{dataTransfer:0}),pp=Be(mp),gp=te({},Es,{relatedTarget:0}),Pa=Be(gp),xp=te({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),yp=Be(xp),vp=te({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wp=Be(vp),jp=te({},_r,{data:0}),Dc=Be(jp),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Np[e])?!!t[e]:!1}function El(){return kp}var Sp=te({},Es,{key:function(e){if(e.key){var t=_p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ep=Be(Sp),Cp=te({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=Be(Cp),Pp=te({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),Tp=Be(Pp),Op=te({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rp=Be(Op),$p=te({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lp=Be($p),Dp=[9,13,27,32],Cl=Nt&&"CompositionEvent"in window,Vr=null;Nt&&"documentMode"in document&&(Vr=document.documentMode);var Mp=Nt&&"TextEvent"in window&&!Vr,Kd=Nt&&(!Cl||Vr&&8<Vr&&11>=Vr),Ac=" ",Ic=!1;function Jd(e,t){switch(e){case"keyup":return Dp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function Ap(e,t){switch(e){case"compositionend":return Xd(t);case"keypress":return t.which!==32?null:(Ic=!0,Ac);case"textInput":return e=t.data,e===Ac&&Ic?null:e;default:return null}}function Ip(e,t){if(Gn)return e==="compositionend"||!Cl&&Jd(e,t)?(e=Qd(),oi=kl=Vt=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kd&&t.locale!=="ko"?null:t.data;default:return null}}var Up={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Up[e.type]:t==="textarea"}function Zd(e,t,n,r){Td(r),t=Ni(t,"onChange"),0<t.length&&(n=new Sl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yr=null,ls=null;function Fp(e){uh(e,0)}function Ki(e){var t=Jn(e);if(bd(t))return e}function zp(e,t){if(e==="change")return t}var eh=!1;if(Nt){var Ta;if(Nt){var Oa="oninput"in document;if(!Oa){var Fc=document.createElement("div");Fc.setAttribute("oninput","return;"),Oa=typeof Fc.oninput=="function"}Ta=Oa}else Ta=!1;eh=Ta&&(!document.documentMode||9<document.documentMode)}function zc(){Yr&&(Yr.detachEvent("onpropertychange",th),ls=Yr=null)}function th(e){if(e.propertyName==="value"&&Ki(ls)){var t=[];Zd(t,ls,e,wl(e)),Ld(Fp,t)}}function Bp(e,t,n){e==="focusin"?(zc(),Yr=t,ls=n,Yr.attachEvent("onpropertychange",th)):e==="focusout"&&zc()}function qp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(ls)}function Wp(e,t){if(e==="click")return Ki(t)}function Hp(e,t){if(e==="input"||e==="change")return Ki(t)}function Vp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:Vp;function cs(e,t){if(it(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!to.call(t,s)||!it(e[s],t[s]))return!1}return!0}function Bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qc(e,t){var n=Bc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bc(n)}}function nh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rh(){for(var e=window,t=xi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xi(e.document)}return t}function Pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yp(e){var t=rh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&nh(n.ownerDocument.documentElement,n)){if(r!==null&&Pl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=qc(n,i);var o=qc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gp=Nt&&"documentMode"in document&&11>=document.documentMode,Qn=null,jo=null,Gr=null,_o=!1;function Wc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_o||Qn==null||Qn!==xi(r)||(r=Qn,"selectionStart"in r&&Pl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gr&&cs(Gr,r)||(Gr=r,r=Ni(jo,"onSelect"),0<r.length&&(t=new Sl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qn)))}function Ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kn={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},Ra={},sh={};Nt&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function Ji(e){if(Ra[e])return Ra[e];if(!Kn[e])return e;var t=Kn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sh)return Ra[e]=t[n];return e}var ih=Ji("animationend"),ah=Ji("animationiteration"),oh=Ji("animationstart"),lh=Ji("transitionend"),ch=new Map,Hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(e,t){ch.set(e,t),$n(t,[e])}for(var $a=0;$a<Hc.length;$a++){var La=Hc[$a],Qp=La.toLowerCase(),Kp=La[0].toUpperCase()+La.slice(1);on(Qp,"on"+Kp)}on(ih,"onAnimationEnd");on(ah,"onAnimationIteration");on(oh,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(lh,"onTransitionEnd");dr("onMouseEnter",["mouseout","mouseover"]);dr("onMouseLeave",["mouseout","mouseover"]);dr("onPointerEnter",["pointerout","pointerover"]);dr("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Vc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Qm(r,t,void 0,e),e.currentTarget=null}function uh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Vc(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Vc(s,l,u),i=c}}}if(vi)throw e=xo,vi=!1,xo=null,e}function Q(e,t){var n=t[Eo];n===void 0&&(n=t[Eo]=new Set);var r=e+"__bubble";n.has(r)||(dh(t,e,2,!1),n.add(r))}function Da(e,t,n){var r=0;t&&(r|=4),dh(n,e,r,t)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function us(e){if(!e[Hs]){e[Hs]=!0,yd.forEach(function(n){n!=="selectionchange"&&(Jp.has(n)||Da(n,!1,e),Da(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hs]||(t[Hs]=!0,Da("selectionchange",!1,t))}}function dh(e,t,n,r){switch(Gd(t)){case 1:var s=dp;break;case 4:s=hp;break;default:s=Nl}n=s.bind(null,t,n,e),s=void 0,!go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ma(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wn(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Ld(function(){var u=i,d=wl(n),h=[];e:{var f=ch.get(e);if(f!==void 0){var x=Sl,w=e;switch(e){case"keypress":if(li(n)===0)break e;case"keydown":case"keyup":x=Ep;break;case"focusin":w="focus",x=Pa;break;case"focusout":w="blur",x=Pa;break;case"beforeblur":case"afterblur":x=Pa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Tp;break;case ih:case ah:case oh:x=yp;break;case lh:x=Rp;break;case"scroll":x=fp;break;case"wheel":x=Lp;break;case"copy":case"cut":case"paste":x=wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Mc}var j=(t&4)!==0,y=!j&&e==="scroll",p=j?f!==null?f+"Capture":null:f;j=[];for(var m=u,g;m!==null;){g=m;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,p!==null&&(_=ss(m,p),_!=null&&j.push(ds(m,_,g)))),y)break;m=m.return}0<j.length&&(f=new x(f,w,null,n,d),h.push({event:f,listeners:j}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&n!==mo&&(w=n.relatedTarget||n.fromElement)&&(wn(w)||w[kt]))break e;if((x||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,x?(w=n.relatedTarget||n.toElement,x=u,w=w?wn(w):null,w!==null&&(y=Ln(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=u),x!==w)){if(j=Lc,_="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(j=Mc,_="onPointerLeave",p="onPointerEnter",m="pointer"),y=x==null?f:Jn(x),g=w==null?f:Jn(w),f=new j(_,m+"leave",x,n,d),f.target=y,f.relatedTarget=g,_=null,wn(d)===u&&(j=new j(p,m+"enter",w,n,d),j.target=g,j.relatedTarget=y,_=j),y=_,x&&w)t:{for(j=x,p=w,m=0,g=j;g;g=Un(g))m++;for(g=0,_=p;_;_=Un(_))g++;for(;0<m-g;)j=Un(j),m--;for(;0<g-m;)p=Un(p),g--;for(;m--;){if(j===p||p!==null&&j===p.alternate)break t;j=Un(j),p=Un(p)}j=null}else j=null;x!==null&&Yc(h,f,x,j,!1),w!==null&&y!==null&&Yc(h,y,w,j,!0)}}e:{if(f=u?Jn(u):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var b=zp;else if(Uc(f))if(eh)b=Hp;else{b=qp;var k=Bp}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Wp);if(b&&(b=b(e,u))){Zd(h,b,n,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&lo(f,"number",f.value)}switch(k=u?Jn(u):window,e){case"focusin":(Uc(k)||k.contentEditable==="true")&&(Qn=k,jo=u,Gr=null);break;case"focusout":Gr=jo=Qn=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":_o=!1,Wc(h,n,d);break;case"selectionchange":if(Gp)break;case"keydown":case"keyup":Wc(h,n,d)}var S;if(Cl)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Gn?Jd(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Kd&&n.locale!=="ko"&&(Gn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Gn&&(S=Qd()):(Vt=d,kl="value"in Vt?Vt.value:Vt.textContent,Gn=!0)),k=Ni(u,P),0<k.length&&(P=new Dc(P,e,null,n,d),h.push({event:P,listeners:k}),S?P.data=S:(S=Xd(n),S!==null&&(P.data=S)))),(S=Mp?Ap(e,n):Ip(e,n))&&(u=Ni(u,"onBeforeInput"),0<u.length&&(d=new Dc("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}uh(h,t)})}function ds(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ni(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ss(e,n),i!=null&&r.unshift(ds(e,i,s)),i=ss(e,t),i!=null&&r.push(ds(e,i,s))),e=e.return}return r}function Un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ss(n,i),c!=null&&o.unshift(ds(n,c,l))):s||(c=ss(n,i),c!=null&&o.push(ds(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Xp=/\r\n?/g,Zp=/\u0000|\uFFFD/g;function Gc(e){return(typeof e=="string"?e:""+e).replace(Xp,`
`).replace(Zp,"")}function Vs(e,t,n){if(t=Gc(t),Gc(e)!==t&&n)throw Error(N(425))}function ki(){}var bo=null,No=null;function ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=typeof setTimeout=="function"?setTimeout:void 0,e0=typeof clearTimeout=="function"?clearTimeout:void 0,Qc=typeof Promise=="function"?Promise:void 0,t0=typeof queueMicrotask=="function"?queueMicrotask:typeof Qc<"u"?function(e){return Qc.resolve(null).then(e).catch(n0)}:So;function n0(e){setTimeout(function(){throw e})}function Aa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),os(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);os(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var br=Math.random().toString(36).slice(2),dt="__reactFiber$"+br,hs="__reactProps$"+br,kt="__reactContainer$"+br,Eo="__reactEvents$"+br,r0="__reactListeners$"+br,s0="__reactHandles$"+br;function wn(e){var t=e[dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kt]||n[dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kc(e);e!==null;){if(n=e[dt])return n;e=Kc(e)}return t}e=n,n=e.parentNode}return null}function Cs(e){return e=e[dt]||e[kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Xi(e){return e[hs]||null}var Co=[],Xn=-1;function ln(e){return{current:e}}function K(e){0>Xn||(e.current=Co[Xn],Co[Xn]=null,Xn--)}function V(e,t){Xn++,Co[Xn]=e.current,e.current=t}var an={},_e=ln(an),$e=ln(!1),En=an;function hr(e,t){var n=e.type.contextTypes;if(!n)return an;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Le(e){return e=e.childContextTypes,e!=null}function Si(){K($e),K(_e)}function Jc(e,t,n){if(_e.current!==an)throw Error(N(168));V(_e,t),V($e,n)}function hh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,Bm(e)||"Unknown",s));return te({},n,r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||an,En=_e.current,V(_e,e),V($e,$e.current),!0}function Xc(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=hh(e,t,En),r.__reactInternalMemoizedMergedChildContext=e,K($e),K(_e),V(_e,e)):K($e),V($e,n)}var vt=null,Zi=!1,Ia=!1;function fh(e){vt===null?vt=[e]:vt.push(e)}function i0(e){Zi=!0,fh(e)}function cn(){if(!Ia&&vt!==null){Ia=!0;var e=0,t=W;try{var n=vt;for(W=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vt=null,Zi=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),Id(jl,cn),s}finally{W=t,Ia=!1}}return null}var Zn=[],er=0,Ci=null,Pi=0,qe=[],We=0,Cn=null,wt=1,jt="";function pn(e,t){Zn[er++]=Pi,Zn[er++]=Ci,Ci=e,Pi=t}function mh(e,t,n){qe[We++]=wt,qe[We++]=jt,qe[We++]=Cn,Cn=e;var r=wt;e=jt;var s=32-rt(r)-1;r&=~(1<<s),n+=1;var i=32-rt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wt=1<<32-rt(t)+s|n<<s|r,jt=i+e}else wt=1<<i|n<<s|r,jt=e}function Tl(e){e.return!==null&&(pn(e,1),mh(e,1,0))}function Ol(e){for(;e===Ci;)Ci=Zn[--er],Zn[er]=null,Pi=Zn[--er],Zn[er]=null;for(;e===Cn;)Cn=qe[--We],qe[We]=null,jt=qe[--We],qe[We]=null,wt=qe[--We],qe[We]=null}var Ue=null,Ie=null,J=!1,nt=null;function ph(e,t){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ue=e,Ie=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ue=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cn!==null?{id:wt,overflow:jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ue=e,Ie=null,!0):!1;default:return!1}}function Po(e){return(e.mode&1)!==0&&(e.flags&128)===0}function To(e){if(J){var t=Ie;if(t){var n=t;if(!Zc(e,t)){if(Po(e))throw Error(N(418));t=Xt(n.nextSibling);var r=Ue;t&&Zc(e,t)?ph(r,n):(e.flags=e.flags&-4097|2,J=!1,Ue=e)}}else{if(Po(e))throw Error(N(418));e.flags=e.flags&-4097|2,J=!1,Ue=e}}}function eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ue=e}function Ys(e){if(e!==Ue)return!1;if(!J)return eu(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ko(e.type,e.memoizedProps)),t&&(t=Ie)){if(Po(e))throw gh(),Error(N(418));for(;t;)ph(e,t),t=Xt(t.nextSibling)}if(eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Xt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Ue?Xt(e.stateNode.nextSibling):null;return!0}function gh(){for(var e=Ie;e;)e=Xt(e.nextSibling)}function fr(){Ie=Ue=null,J=!1}function Rl(e){nt===null?nt=[e]:nt.push(e)}var a0=Tt.ReactCurrentBatchConfig;function $r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tu(e){var t=e._init;return t(e._payload)}function xh(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=nn(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,_){return m===null||m.tag!==6?(m=Ha(g,p.mode,_),m.return=p,m):(m=s(m,g),m.return=p,m)}function c(p,m,g,_){var b=g.type;return b===Yn?d(p,m,g.props.children,_,g.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===It&&tu(b)===m.type)?(_=s(m,g.props),_.ref=$r(p,m,g),_.return=p,_):(_=pi(g.type,g.key,g.props,null,p.mode,_),_.ref=$r(p,m,g),_.return=p,_)}function u(p,m,g,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Va(g,p.mode,_),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,_,b){return m===null||m.tag!==7?(m=kn(g,p.mode,_,b),m.return=p,m):(m=s(m,g),m.return=p,m)}function h(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ha(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case As:return g=pi(m.type,m.key,m.props,null,p.mode,g),g.ref=$r(p,null,m),g.return=p,g;case Vn:return m=Va(m,p.mode,g),m.return=p,m;case It:var _=m._init;return h(p,_(m._payload),g)}if(Fr(m)||Cr(m))return m=kn(m,p.mode,g,null),m.return=p,m;Gs(p,m)}return null}function f(p,m,g,_){var b=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:l(p,m,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case As:return g.key===b?c(p,m,g,_):null;case Vn:return g.key===b?u(p,m,g,_):null;case It:return b=g._init,f(p,m,b(g._payload),_)}if(Fr(g)||Cr(g))return b!==null?null:d(p,m,g,_,null);Gs(p,g)}return null}function x(p,m,g,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(g)||null,l(m,p,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case As:return p=p.get(_.key===null?g:_.key)||null,c(m,p,_,b);case Vn:return p=p.get(_.key===null?g:_.key)||null,u(m,p,_,b);case It:var k=_._init;return x(p,m,g,k(_._payload),b)}if(Fr(_)||Cr(_))return p=p.get(g)||null,d(m,p,_,b,null);Gs(m,_)}return null}function w(p,m,g,_){for(var b=null,k=null,S=m,P=m=0,B=null;S!==null&&P<g.length;P++){S.index>P?(B=S,S=null):B=S.sibling;var M=f(p,S,g[P],_);if(M===null){S===null&&(S=B);break}e&&S&&M.alternate===null&&t(p,S),m=i(M,m,P),k===null?b=M:k.sibling=M,k=M,S=B}if(P===g.length)return n(p,S),J&&pn(p,P),b;if(S===null){for(;P<g.length;P++)S=h(p,g[P],_),S!==null&&(m=i(S,m,P),k===null?b=S:k.sibling=S,k=S);return J&&pn(p,P),b}for(S=r(p,S);P<g.length;P++)B=x(S,p,P,g[P],_),B!==null&&(e&&B.alternate!==null&&S.delete(B.key===null?P:B.key),m=i(B,m,P),k===null?b=B:k.sibling=B,k=B);return e&&S.forEach(function(Ce){return t(p,Ce)}),J&&pn(p,P),b}function j(p,m,g,_){var b=Cr(g);if(typeof b!="function")throw Error(N(150));if(g=b.call(g),g==null)throw Error(N(151));for(var k=b=null,S=m,P=m=0,B=null,M=g.next();S!==null&&!M.done;P++,M=g.next()){S.index>P?(B=S,S=null):B=S.sibling;var Ce=f(p,S,M.value,_);if(Ce===null){S===null&&(S=B);break}e&&S&&Ce.alternate===null&&t(p,S),m=i(Ce,m,P),k===null?b=Ce:k.sibling=Ce,k=Ce,S=B}if(M.done)return n(p,S),J&&pn(p,P),b;if(S===null){for(;!M.done;P++,M=g.next())M=h(p,M.value,_),M!==null&&(m=i(M,m,P),k===null?b=M:k.sibling=M,k=M);return J&&pn(p,P),b}for(S=r(p,S);!M.done;P++,M=g.next())M=x(S,p,P,M.value,_),M!==null&&(e&&M.alternate!==null&&S.delete(M.key===null?P:M.key),m=i(M,m,P),k===null?b=M:k.sibling=M,k=M);return e&&S.forEach(function($t){return t(p,$t)}),J&&pn(p,P),b}function y(p,m,g,_){if(typeof g=="object"&&g!==null&&g.type===Yn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case As:e:{for(var b=g.key,k=m;k!==null;){if(k.key===b){if(b=g.type,b===Yn){if(k.tag===7){n(p,k.sibling),m=s(k,g.props.children),m.return=p,p=m;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===It&&tu(b)===k.type){n(p,k.sibling),m=s(k,g.props),m.ref=$r(p,k,g),m.return=p,p=m;break e}n(p,k);break}else t(p,k);k=k.sibling}g.type===Yn?(m=kn(g.props.children,p.mode,_,g.key),m.return=p,p=m):(_=pi(g.type,g.key,g.props,null,p.mode,_),_.ref=$r(p,m,g),_.return=p,p=_)}return o(p);case Vn:e:{for(k=g.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=Va(g,p.mode,_),m.return=p,p=m}return o(p);case It:return k=g._init,y(p,m,k(g._payload),_)}if(Fr(g))return w(p,m,g,_);if(Cr(g))return j(p,m,g,_);Gs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,g),m.return=p,p=m):(n(p,m),m=Ha(g,p.mode,_),m.return=p,p=m),o(p)):n(p,m)}return y}var mr=xh(!0),yh=xh(!1),Ti=ln(null),Oi=null,tr=null,$l=null;function Ll(){$l=tr=Oi=null}function Dl(e){var t=Ti.current;K(Ti),e._currentValue=t}function Oo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lr(e,t){Oi=e,$l=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if($l!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(Oi===null)throw Error(N(308));tr=e,Oi.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var jn=null;function Ml(e){jn===null?jn=[e]:jn.push(e)}function vh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ml(t)):(n.next=s.next,s.next=n),t.interleaved=n,St(e,r)}function St(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ut=!1;function Al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,St(e,n)}return s=r.interleaved,s===null?(t.next=t,Ml(r)):(t.next=s.next,s.next=t),r.interleaved=t,St(e,n)}function ci(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_l(e,n)}}function nu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ri(e,t,n,r){var s=e.updateQueue;Ut=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,x=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,j=l;switch(f=t,x=n,j.tag){case 1:if(w=j.payload,typeof w=="function"){h=w.call(x,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=j.payload,f=typeof w=="function"?w.call(x,h,f):w,f==null)break e;h=te({},h,f);break e;case 2:Ut=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=h):d=d.next=x,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Tn|=o,e.lanes=o,e.memoizedState=h}}function ru(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var Ps={},mt=ln(Ps),fs=ln(Ps),ms=ln(Ps);function _n(e){if(e===Ps)throw Error(N(174));return e}function Il(e,t){switch(V(ms,t),V(fs,e),V(mt,Ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uo(t,e)}K(mt),V(mt,t)}function pr(){K(mt),K(fs),K(ms)}function jh(e){_n(ms.current);var t=_n(mt.current),n=uo(t,e.type);t!==n&&(V(fs,e),V(mt,n))}function Ul(e){fs.current===e&&(K(mt),K(fs))}var Z=ln(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=[];function Fl(){for(var e=0;e<Ua.length;e++)Ua[e]._workInProgressVersionPrimary=null;Ua.length=0}var ui=Tt.ReactCurrentDispatcher,Fa=Tt.ReactCurrentBatchConfig,Pn=0,ee=null,ce=null,fe=null,Li=!1,Qr=!1,ps=0,o0=0;function ve(){throw Error(N(321))}function zl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!it(e[n],t[n]))return!1;return!0}function Bl(e,t,n,r,s,i){if(Pn=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ui.current=e===null||e.memoizedState===null?d0:h0,e=n(r,s),Qr){i=0;do{if(Qr=!1,ps=0,25<=i)throw Error(N(301));i+=1,fe=ce=null,t.updateQueue=null,ui.current=f0,e=n(r,s)}while(Qr)}if(ui.current=Di,t=ce!==null&&ce.next!==null,Pn=0,fe=ce=ee=null,Li=!1,t)throw Error(N(300));return e}function ql(){var e=ps!==0;return ps=0,e}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ee.memoizedState=fe=e:fe=fe.next=e,fe}function Qe(){if(ce===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var t=fe===null?ee.memoizedState:fe.next;if(t!==null)fe=t,ce=e;else{if(e===null)throw Error(N(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},fe===null?ee.memoizedState=fe=e:fe=fe.next=e}return fe}function gs(e,t){return typeof t=="function"?t(e):t}function za(e){var t=Qe(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Pn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,ee.lanes|=d,Tn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,it(r,t.memoizedState)||(Re=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ee.lanes|=i,Tn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ba(e){var t=Qe(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);it(i,t.memoizedState)||(Re=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function _h(){}function bh(e,t){var n=ee,r=Qe(),s=t(),i=!it(r.memoizedState,s);if(i&&(r.memoizedState=s,Re=!0),r=r.queue,Wl(Sh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,xs(9,kh.bind(null,n,r,s,t),void 0,null),me===null)throw Error(N(349));Pn&30||Nh(n,t,s)}return s}function Nh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kh(e,t,n,r){t.value=n,t.getSnapshot=r,Eh(t)&&Ch(e)}function Sh(e,t,n){return n(function(){Eh(t)&&Ch(e)})}function Eh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!it(e,n)}catch{return!0}}function Ch(e){var t=St(e,1);t!==null&&st(t,e,1,-1)}function su(e){var t=ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:e},t.queue=e,e=e.dispatch=u0.bind(null,ee,e),[t.memoizedState,e]}function xs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ph(){return Qe().memoizedState}function di(e,t,n,r){var s=ut();ee.flags|=e,s.memoizedState=xs(1|t,n,void 0,r===void 0?null:r)}function ea(e,t,n,r){var s=Qe();r=r===void 0?null:r;var i=void 0;if(ce!==null){var o=ce.memoizedState;if(i=o.destroy,r!==null&&zl(r,o.deps)){s.memoizedState=xs(t,n,i,r);return}}ee.flags|=e,s.memoizedState=xs(1|t,n,i,r)}function iu(e,t){return di(8390656,8,e,t)}function Wl(e,t){return ea(2048,8,e,t)}function Th(e,t){return ea(4,2,e,t)}function Oh(e,t){return ea(4,4,e,t)}function Rh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $h(e,t,n){return n=n!=null?n.concat([e]):null,ea(4,4,Rh.bind(null,t,e),n)}function Hl(){}function Lh(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dh(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mh(e,t,n){return Pn&21?(it(n,t)||(n=zd(),ee.lanes|=n,Tn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=n)}function l0(e,t){var n=W;W=n!==0&&4>n?n:4,e(!0);var r=Fa.transition;Fa.transition={};try{e(!1),t()}finally{W=n,Fa.transition=r}}function Ah(){return Qe().memoizedState}function c0(e,t,n){var r=tn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ih(e))Uh(t,n);else if(n=vh(e,t,n,r),n!==null){var s=ke();st(n,e,r,s),Fh(n,t,r)}}function u0(e,t,n){var r=tn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ih(e))Uh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,it(l,o)){var c=t.interleaved;c===null?(s.next=s,Ml(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=vh(e,t,s,r),n!==null&&(s=ke(),st(n,e,r,s),Fh(n,t,r))}}function Ih(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Uh(e,t){Qr=Li=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_l(e,n)}}var Di={readContext:Ge,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},d0={readContext:Ge,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:iu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,di(4194308,4,Rh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return di(4194308,4,e,t)},useInsertionEffect:function(e,t){return di(4,2,e,t)},useMemo:function(e,t){var n=ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ut();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=c0.bind(null,ee,e),[r.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:su,useDebugValue:Hl,useDeferredValue:function(e){return ut().memoizedState=e},useTransition:function(){var e=su(!1),t=e[0];return e=l0.bind(null,e[1]),ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ee,s=ut();if(J){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),me===null)throw Error(N(349));Pn&30||Nh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,iu(Sh.bind(null,r,i,e),[e]),r.flags|=2048,xs(9,kh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ut(),t=me.identifierPrefix;if(J){var n=jt,r=wt;n=(r&~(1<<32-rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ps++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=o0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h0={readContext:Ge,useCallback:Lh,useContext:Ge,useEffect:Wl,useImperativeHandle:$h,useInsertionEffect:Th,useLayoutEffect:Oh,useMemo:Dh,useReducer:za,useRef:Ph,useState:function(){return za(gs)},useDebugValue:Hl,useDeferredValue:function(e){var t=Qe();return Mh(t,ce.memoizedState,e)},useTransition:function(){var e=za(gs)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:_h,useSyncExternalStore:bh,useId:Ah,unstable_isNewReconciler:!1},f0={readContext:Ge,useCallback:Lh,useContext:Ge,useEffect:Wl,useImperativeHandle:$h,useInsertionEffect:Th,useLayoutEffect:Oh,useMemo:Dh,useReducer:Ba,useRef:Ph,useState:function(){return Ba(gs)},useDebugValue:Hl,useDeferredValue:function(e){var t=Qe();return ce===null?t.memoizedState=e:Mh(t,ce.memoizedState,e)},useTransition:function(){var e=Ba(gs)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:_h,useSyncExternalStore:bh,useId:Ah,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ro(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ta={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ke(),s=tn(e),i=_t(r,s);i.payload=t,n!=null&&(i.callback=n),t=Zt(e,i,s),t!==null&&(st(t,e,s,r),ci(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ke(),s=tn(e),i=_t(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Zt(e,i,s),t!==null&&(st(t,e,s,r),ci(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),r=tn(e),s=_t(n,r);s.tag=2,t!=null&&(s.callback=t),t=Zt(e,s,r),t!==null&&(st(t,e,r,n),ci(t,e,r))}};function au(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!cs(n,r)||!cs(s,i):!0}function zh(e,t,n){var r=!1,s=an,i=t.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=Le(t)?En:_e.current,r=t.contextTypes,i=(r=r!=null)?hr(e,s):an),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ta,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ou(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ta.enqueueReplaceState(t,t.state,null)}function $o(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Al(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=Le(t)?En:_e.current,s.context=hr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ro(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ta.enqueueReplaceState(s,s.state,null),Ri(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function gr(e,t){try{var n="",r=t;do n+=zm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function qa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Lo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var m0=typeof WeakMap=="function"?WeakMap:Map;function Bh(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ai||(Ai=!0,Wo=r),Lo(e,t)},n}function qh(e,t,n){n=_t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Lo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lo(e,t),typeof r!="function"&&(en===null?en=new Set([this]):en.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function lu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new m0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=C0.bind(null,e,t,n),t.then(e,e))}function cu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e)}var p0=Tt.ReactCurrentOwner,Re=!1;function be(e,t,n,r){t.child=e===null?yh(t,null,n,r):mr(t,e.child,n,r)}function du(e,t,n,r,s){n=n.render;var i=t.ref;return lr(t,s),r=Bl(e,t,n,r,i,s),n=ql(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(J&&n&&Tl(t),t.flags|=1,be(e,t,r,s),t.child)}function hu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Zl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Wh(e,t,i,r,s)):(e=pi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:cs,n(o,r)&&e.ref===t.ref)return Et(e,t,s)}return t.flags|=1,e=nn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Wh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(cs(i,r)&&e.ref===t.ref)if(Re=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,Et(e,t,s)}return Do(e,t,n,r,s)}function Hh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(rr,Ae),Ae|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(rr,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(rr,Ae),Ae|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,V(rr,Ae),Ae|=r;return be(e,t,s,n),t.child}function Vh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,s){var i=Le(n)?En:_e.current;return i=hr(t,i),lr(t,s),n=Bl(e,t,n,r,i,s),r=ql(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(J&&r&&Tl(t),t.flags|=1,be(e,t,n,s),t.child)}function fu(e,t,n,r,s){if(Le(n)){var i=!0;Ei(t)}else i=!1;if(lr(t,s),t.stateNode===null)hi(e,t),zh(t,n,r),$o(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ge(u):(u=Le(n)?En:_e.current,u=hr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ou(t,o,r,u),Ut=!1;var f=t.memoizedState;o.state=f,Ri(t,r,o,s),c=t.memoizedState,l!==r||f!==c||$e.current||Ut?(typeof d=="function"&&(Ro(t,n,d,r),c=t.memoizedState),(l=Ut||au(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ze(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ge(c):(c=Le(n)?En:_e.current,c=hr(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&ou(t,o,r,c),Ut=!1,f=t.memoizedState,o.state=f,Ri(t,r,o,s);var w=t.memoizedState;l!==h||f!==w||$e.current||Ut?(typeof x=="function"&&(Ro(t,n,x,r),w=t.memoizedState),(u=Ut||au(t,n,u,r,f,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Mo(e,t,n,r,i,s)}function Mo(e,t,n,r,s,i){Vh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Xc(t,n,!1),Et(e,t,i);r=t.stateNode,p0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=mr(t,e.child,null,i),t.child=mr(t,null,l,i)):be(e,t,l,i),t.memoizedState=r.state,s&&Xc(t,n,!0),t.child}function Yh(e){var t=e.stateNode;t.pendingContext?Jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jc(e,t.context,!1),Il(e,t.containerInfo)}function mu(e,t,n,r,s){return fr(),Rl(s),t.flags|=256,be(e,t,n,r),t.child}var Ao={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gh(e,t,n){var r=t.pendingProps,s=Z.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(Z,s&1),e===null)return To(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sa(o,r,0,null),e=kn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Io(n),t.memoizedState=Ao,e):Vl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return g0(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=nn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=nn(l,i):(i=kn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Io(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ao,r}return i=e.child,e=i.sibling,r=nn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vl(e,t){return t=sa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qs(e,t,n,r){return r!==null&&Rl(r),mr(t,e.child,null,n),e=Vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g0(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=qa(Error(N(422))),Qs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=sa({mode:"visible",children:r.children},s,0,null),i=kn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&mr(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Ao,i);if(!(t.mode&1))return Qs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(N(419)),r=qa(i,r,void 0),Qs(e,t,o,r)}if(l=(o&e.childLanes)!==0,Re||l){if(r=me,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,St(e,s),st(r,e,s,-1))}return Xl(),r=qa(Error(N(421))),Qs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=P0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ie=Xt(s.nextSibling),Ue=t,J=!0,nt=null,e!==null&&(qe[We++]=wt,qe[We++]=jt,qe[We++]=Cn,wt=e.id,jt=e.overflow,Cn=t),t=Vl(t,r.children),t.flags|=4096,t)}function pu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Oo(e.return,t,n)}function Wa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Qh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(be(e,t,r.children,n),r=Z.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pu(e,n,t);else if(e.tag===19)pu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(V(Z,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&$i(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Wa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$i(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Wa(t,!0,n,null,i);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function x0(e,t,n){switch(t.tag){case 3:Yh(t),fr();break;case 5:jh(t);break;case 1:Le(t.type)&&Ei(t);break;case 4:Il(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;V(Ti,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(V(Z,Z.current&1),t.flags|=128,null):n&t.child.childLanes?Gh(e,t,n):(V(Z,Z.current&1),e=Et(e,t,n),e!==null?e.sibling:null);V(Z,Z.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Z,Z.current),r)break;return null;case 22:case 23:return t.lanes=0,Hh(e,t,n)}return Et(e,t,n)}var Kh,Uo,Jh,Xh;Kh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uo=function(){};Jh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,_n(mt.current);var i=null;switch(n){case"input":s=ao(e,s),r=ao(e,r),i=[];break;case"select":s=te({},s,{value:void 0}),r=te({},r,{value:void 0}),i=[];break;case"textarea":s=co(e,s),r=co(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ki)}ho(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ns.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ns.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Q("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Xh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Lr(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function y0(e,t,n){var r=t.pendingProps;switch(Ol(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Le(t.type)&&Si(),we(t),null;case 3:return r=t.stateNode,pr(),K($e),K(_e),Fl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(Yo(nt),nt=null))),Uo(e,t),we(t),null;case 5:Ul(t);var s=_n(ms.current);if(n=t.type,e!==null&&t.stateNode!=null)Jh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return we(t),null}if(e=_n(mt.current),Ys(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[dt]=t,r[hs]=i,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(s=0;s<Br.length;s++)Q(Br[s],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":Nc(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":Sc(r,i),Q("invalid",r)}ho(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Vs(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Vs(r.textContent,l,e),s=["children",""+l]):ns.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":Is(r),kc(r,i,!0);break;case"textarea":Is(r),Ec(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ki)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[dt]=t,e[hs]=r,Kh(e,t,!1,!1),t.stateNode=e;e:{switch(o=fo(n,r),n){case"dialog":Q("cancel",e),Q("close",e),s=r;break;case"iframe":case"object":case"embed":Q("load",e),s=r;break;case"video":case"audio":for(s=0;s<Br.length;s++)Q(Br[s],e);s=r;break;case"source":Q("error",e),s=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=r;break;case"details":Q("toggle",e),s=r;break;case"input":Nc(e,r),s=ao(e,r),Q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=te({},r,{value:void 0}),Q("invalid",e);break;case"textarea":Sc(e,r),s=co(e,r),Q("invalid",e);break;default:s=r}ho(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Pd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ed(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&rs(e,c):typeof c=="number"&&rs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ns.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Q("scroll",e):c!=null&&gl(e,i,c,o))}switch(n){case"input":Is(e),kc(e,r,!1);break;case"textarea":Is(e),Ec(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?sr(e,!!r.multiple,i,!1):r.defaultValue!=null&&sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ki)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)Xh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=_n(ms.current),_n(mt.current),Ys(t)){if(r=t.stateNode,n=t.memoizedProps,r[dt]=t,(i=r.nodeValue!==n)&&(e=Ue,e!==null))switch(e.tag){case 3:Vs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dt]=t,t.stateNode=r}return we(t),null;case 13:if(K(Z),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Ie!==null&&t.mode&1&&!(t.flags&128))gh(),fr(),t.flags|=98560,i=!1;else if(i=Ys(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[dt]=t}else fr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else nt!==null&&(Yo(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ue===0&&(ue=3):Xl())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return pr(),Uo(e,t),e===null&&us(t.stateNode.containerInfo),we(t),null;case 10:return Dl(t.type._context),we(t),null;case 17:return Le(t.type)&&Si(),we(t),null;case 19:if(K(Z),i=t.memoizedState,i===null)return we(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Lr(i,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$i(e),o!==null){for(t.flags|=128,Lr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return V(Z,Z.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>xr&&(t.flags|=128,r=!0,Lr(i,!1),t.lanes=4194304)}else{if(!r)if(e=$i(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Lr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return we(t),null}else 2*se()-i.renderingStartTime>xr&&n!==1073741824&&(t.flags|=128,r=!0,Lr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,n=Z.current,V(Z,r?n&1|2:n&1),t):(we(t),null);case 22:case 23:return Jl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ae&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function v0(e,t){switch(Ol(t),t.tag){case 1:return Le(t.type)&&Si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pr(),K($e),K(_e),Fl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ul(t),null;case 13:if(K(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Z),null;case 4:return pr(),null;case 10:return Dl(t.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var Ks=!1,je=!1,w0=typeof WeakSet=="function"?WeakSet:Set,C=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function Fo(e,t,n){try{n()}catch(r){re(e,t,r)}}var gu=!1;function j0(e,t){if(bo=_i,e=rh(),Pl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var x;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(No={focusedElem:e,selectionRange:n},_i=!1,C=t;C!==null;)if(t=C,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,C=e;else for(;C!==null;){t=C;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var j=w.memoizedProps,y=w.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?j:Ze(t.type,j),y);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){re(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,C=e;break}C=t.return}return w=gu,gu=!1,w}function Kr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Fo(t,n,i)}s=s.next}while(s!==r)}}function na(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zh(e){var t=e.alternate;t!==null&&(e.alternate=null,Zh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dt],delete t[hs],delete t[Eo],delete t[r0],delete t[s0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ef(e){return e.tag===5||e.tag===3||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ki));else if(r!==4&&(e=e.child,e!==null))for(Bo(e,t,n),e=e.sibling;e!==null;)Bo(e,t,n),e=e.sibling}function qo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qo(e,t,n),e=e.sibling;e!==null;)qo(e,t,n),e=e.sibling}var ge=null,et=!1;function Lt(e,t,n){for(n=n.child;n!==null;)tf(e,t,n),n=n.sibling}function tf(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Gi,n)}catch{}switch(n.tag){case 5:je||nr(n,t);case 6:var r=ge,s=et;ge=null,Lt(e,t,n),ge=r,et=s,ge!==null&&(et?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(et?(e=ge,n=n.stateNode,e.nodeType===8?Aa(e.parentNode,n):e.nodeType===1&&Aa(e,n),os(e)):Aa(ge,n.stateNode));break;case 4:r=ge,s=et,ge=n.stateNode.containerInfo,et=!0,Lt(e,t,n),ge=r,et=s;break;case 0:case 11:case 14:case 15:if(!je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Fo(n,t,o),s=s.next}while(s!==r)}Lt(e,t,n);break;case 1:if(!je&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){re(n,t,l)}Lt(e,t,n);break;case 21:Lt(e,t,n);break;case 22:n.mode&1?(je=(r=je)||n.memoizedState!==null,Lt(e,t,n),je=r):Lt(e,t,n);break;default:Lt(e,t,n)}}function yu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w0),t.forEach(function(r){var s=T0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,et=!1;break e;case 3:ge=l.stateNode.containerInfo,et=!0;break e;case 4:ge=l.stateNode.containerInfo,et=!0;break e}l=l.return}if(ge===null)throw Error(N(160));tf(i,o,s),ge=null,et=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nf(t,e),t=t.sibling}function nf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),lt(e),r&4){try{Kr(3,e,e.return),na(3,e)}catch(j){re(e,e.return,j)}try{Kr(5,e,e.return)}catch(j){re(e,e.return,j)}}break;case 1:Xe(t,e),lt(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(Xe(t,e),lt(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var s=e.stateNode;try{rs(s,"")}catch(j){re(e,e.return,j)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Nd(s,i),fo(l,o);var u=fo(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Pd(s,h):d==="dangerouslySetInnerHTML"?Ed(s,h):d==="children"?rs(s,h):gl(s,d,h,u)}switch(l){case"input":oo(s,i);break;case"textarea":kd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?sr(s,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?sr(s,!!i.multiple,i.defaultValue,!0):sr(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch(j){re(e,e.return,j)}}break;case 6:if(Xe(t,e),lt(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(j){re(e,e.return,j)}}break;case 3:if(Xe(t,e),lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{os(t.containerInfo)}catch(j){re(e,e.return,j)}break;case 4:Xe(t,e),lt(e);break;case 13:Xe(t,e),lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ql=se())),r&4&&yu(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(je=(u=je)||d,Xe(t,e),je=u):Xe(t,e),lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(C=e,d=e.child;d!==null;){for(h=C=d;C!==null;){switch(f=C,x=f.child,f.tag){case 0:case 11:case 14:case 15:Kr(4,f,f.return);break;case 1:nr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(j){re(r,n,j)}}break;case 5:nr(f,f.return);break;case 22:if(f.memoizedState!==null){wu(h);continue}}x!==null?(x.return=f,C=x):wu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Cd("display",o))}catch(j){re(e,e.return,j)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(j){re(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xe(t,e),lt(e),r&4&&yu(e);break;case 21:break;default:Xe(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ef(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rs(s,""),r.flags&=-33);var i=xu(e);qo(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=xu(e);Bo(e,l,o);break;default:throw Error(N(161))}}catch(c){re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _0(e,t,n){C=e,rf(e)}function rf(e,t,n){for(var r=(e.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ks;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||je;l=Ks;var u=je;if(Ks=o,(je=c)&&!u)for(C=s;C!==null;)o=C,c=o.child,o.tag===22&&o.memoizedState!==null?ju(s):c!==null?(c.return=o,C=c):ju(s);for(;i!==null;)C=i,rf(i),i=i.sibling;C=s,Ks=l,je=u}vu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):vu(e)}}function vu(e){for(;C!==null;){var t=C;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||na(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ze(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ru(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ru(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&os(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}je||t.flags&512&&zo(t)}catch(f){re(t,t.return,f)}}if(t===e){C=null;break}if(n=t.sibling,n!==null){n.return=t.return,C=n;break}C=t.return}}function wu(e){for(;C!==null;){var t=C;if(t===e){C=null;break}var n=t.sibling;if(n!==null){n.return=t.return,C=n;break}C=t.return}}function ju(e){for(;C!==null;){var t=C;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{na(4,t)}catch(c){re(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){re(t,s,c)}}var i=t.return;try{zo(t)}catch(c){re(t,i,c)}break;case 5:var o=t.return;try{zo(t)}catch(c){re(t,o,c)}}}catch(c){re(t,t.return,c)}if(t===e){C=null;break}var l=t.sibling;if(l!==null){l.return=t.return,C=l;break}C=t.return}}var b0=Math.ceil,Mi=Tt.ReactCurrentDispatcher,Yl=Tt.ReactCurrentOwner,Ve=Tt.ReactCurrentBatchConfig,z=0,me=null,oe=null,xe=0,Ae=0,rr=ln(0),ue=0,ys=null,Tn=0,ra=0,Gl=0,Jr=null,Te=null,Ql=0,xr=1/0,xt=null,Ai=!1,Wo=null,en=null,Js=!1,Yt=null,Ii=0,Xr=0,Ho=null,fi=-1,mi=0;function ke(){return z&6?se():fi!==-1?fi:fi=se()}function tn(e){return e.mode&1?z&2&&xe!==0?xe&-xe:a0.transition!==null?(mi===0&&(mi=zd()),mi):(e=W,e!==0||(e=window.event,e=e===void 0?16:Gd(e.type)),e):1}function st(e,t,n,r){if(50<Xr)throw Xr=0,Ho=null,Error(N(185));Ss(e,n,r),(!(z&2)||e!==me)&&(e===me&&(!(z&2)&&(ra|=n),ue===4&&qt(e,xe)),De(e,r),n===1&&z===0&&!(t.mode&1)&&(xr=se()+500,Zi&&cn()))}function De(e,t){var n=e.callbackNode;ap(e,t);var r=ji(e,e===me?xe:0);if(r===0)n!==null&&Tc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Tc(n),t===1)e.tag===0?i0(_u.bind(null,e)):fh(_u.bind(null,e)),t0(function(){!(z&6)&&cn()}),n=null;else{switch(Bd(r)){case 1:n=jl;break;case 4:n=Ud;break;case 16:n=wi;break;case 536870912:n=Fd;break;default:n=wi}n=hf(n,sf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sf(e,t){if(fi=-1,mi=0,z&6)throw Error(N(327));var n=e.callbackNode;if(cr()&&e.callbackNode!==n)return null;var r=ji(e,e===me?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ui(e,r);else{t=r;var s=z;z|=2;var i=of();(me!==e||xe!==t)&&(xt=null,xr=se()+500,Nn(e,t));do try{S0();break}catch(l){af(e,l)}while(!0);Ll(),Mi.current=i,z=s,oe!==null?t=0:(me=null,xe=0,t=ue)}if(t!==0){if(t===2&&(s=yo(e),s!==0&&(r=s,t=Vo(e,s))),t===1)throw n=ys,Nn(e,0),qt(e,r),De(e,se()),n;if(t===6)qt(e,r);else{if(s=e.current.alternate,!(r&30)&&!N0(s)&&(t=Ui(e,r),t===2&&(i=yo(e),i!==0&&(r=i,t=Vo(e,i))),t===1))throw n=ys,Nn(e,0),qt(e,r),De(e,se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:gn(e,Te,xt);break;case 3:if(qt(e,r),(r&130023424)===r&&(t=Ql+500-se(),10<t)){if(ji(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=So(gn.bind(null,e,Te,xt),t);break}gn(e,Te,xt);break;case 4:if(qt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-rt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b0(r/1960))-r,10<r){e.timeoutHandle=So(gn.bind(null,e,Te,xt),r);break}gn(e,Te,xt);break;case 5:gn(e,Te,xt);break;default:throw Error(N(329))}}}return De(e,se()),e.callbackNode===n?sf.bind(null,e):null}function Vo(e,t){var n=Jr;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=Ui(e,t),e!==2&&(t=Te,Te=n,t!==null&&Yo(t)),e}function Yo(e){Te===null?Te=e:Te.push.apply(Te,e)}function N0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!it(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~Gl,t&=~ra,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function _u(e){if(z&6)throw Error(N(327));cr();var t=ji(e,0);if(!(t&1))return De(e,se()),null;var n=Ui(e,t);if(e.tag!==0&&n===2){var r=yo(e);r!==0&&(t=r,n=Vo(e,r))}if(n===1)throw n=ys,Nn(e,0),qt(e,t),De(e,se()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Te,xt),De(e,se()),null}function Kl(e,t){var n=z;z|=1;try{return e(t)}finally{z=n,z===0&&(xr=se()+500,Zi&&cn())}}function On(e){Yt!==null&&Yt.tag===0&&!(z&6)&&cr();var t=z;z|=1;var n=Ve.transition,r=W;try{if(Ve.transition=null,W=1,e)return e()}finally{W=r,Ve.transition=n,z=t,!(z&6)&&cn()}}function Jl(){Ae=rr.current,K(rr)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,e0(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Ol(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Si();break;case 3:pr(),K($e),K(_e),Fl();break;case 5:Ul(r);break;case 4:pr();break;case 13:K(Z);break;case 19:K(Z);break;case 10:Dl(r.type._context);break;case 22:case 23:Jl()}n=n.return}if(me=e,oe=e=nn(e.current,null),xe=Ae=t,ue=0,ys=null,Gl=ra=Tn=0,Te=Jr=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}jn=null}return e}function af(e,t){do{var n=oe;try{if(Ll(),ui.current=Di,Li){for(var r=ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Li=!1}if(Pn=0,fe=ce=ee=null,Qr=!1,ps=0,Yl.current=null,n===null||n.return===null){ue=1,ys=t,oe=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=xe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=cu(o);if(x!==null){x.flags&=-257,uu(x,o,l,i,t),x.mode&1&&lu(i,u,t),t=x,c=u;var w=t.updateQueue;if(w===null){var j=new Set;j.add(c),t.updateQueue=j}else w.add(c);break e}else{if(!(t&1)){lu(i,u,t),Xl();break e}c=Error(N(426))}}else if(J&&l.mode&1){var y=cu(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),uu(y,o,l,i,t),Rl(gr(c,l));break e}}i=c=gr(c,l),ue!==4&&(ue=2),Jr===null?Jr=[i]:Jr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Bh(i,c,t);nu(i,p);break e;case 1:l=c;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(en===null||!en.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=qh(i,l,t);nu(i,_);break e}}i=i.return}while(i!==null)}cf(n)}catch(b){t=b,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function of(){var e=Mi.current;return Mi.current=Di,e===null?Di:e}function Xl(){(ue===0||ue===3||ue===2)&&(ue=4),me===null||!(Tn&268435455)&&!(ra&268435455)||qt(me,xe)}function Ui(e,t){var n=z;z|=2;var r=of();(me!==e||xe!==t)&&(xt=null,Nn(e,t));do try{k0();break}catch(s){af(e,s)}while(!0);if(Ll(),z=n,Mi.current=r,oe!==null)throw Error(N(261));return me=null,xe=0,ue}function k0(){for(;oe!==null;)lf(oe)}function S0(){for(;oe!==null&&!Jm();)lf(oe)}function lf(e){var t=df(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?cf(e):oe=t,Yl.current=null}function cf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v0(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,oe=null;return}}else if(n=y0(n,t,Ae),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ue===0&&(ue=5)}function gn(e,t,n){var r=W,s=Ve.transition;try{Ve.transition=null,W=1,E0(e,t,n,r)}finally{Ve.transition=s,W=r}return null}function E0(e,t,n,r){do cr();while(Yt!==null);if(z&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(op(e,i),e===me&&(oe=me=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Js||(Js=!0,hf(wi,function(){return cr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ve.transition,Ve.transition=null;var o=W;W=1;var l=z;z|=4,Yl.current=null,j0(e,n),nf(n,e),Yp(No),_i=!!bo,No=bo=null,e.current=n,_0(n),Xm(),z=l,W=o,Ve.transition=i}else e.current=n;if(Js&&(Js=!1,Yt=e,Ii=s),i=e.pendingLanes,i===0&&(en=null),tp(n.stateNode),De(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ai)throw Ai=!1,e=Wo,Wo=null,e;return Ii&1&&e.tag!==0&&cr(),i=e.pendingLanes,i&1?e===Ho?Xr++:(Xr=0,Ho=e):Xr=0,cn(),null}function cr(){if(Yt!==null){var e=Bd(Ii),t=Ve.transition,n=W;try{if(Ve.transition=null,W=16>e?16:e,Yt===null)var r=!1;else{if(e=Yt,Yt=null,Ii=0,z&6)throw Error(N(331));var s=z;for(z|=4,C=e.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(C=u;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:Kr(8,d,i)}var h=d.child;if(h!==null)h.return=d,C=h;else for(;C!==null;){d=C;var f=d.sibling,x=d.return;if(Zh(d),d===u){C=null;break}if(f!==null){f.return=x,C=f;break}C=x}}}var w=i.alternate;if(w!==null){var j=w.child;if(j!==null){w.child=null;do{var y=j.sibling;j.sibling=null,j=y}while(j!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kr(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,C=p;break e}C=i.return}}var m=e.current;for(C=m;C!==null;){o=C;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,C=g;else e:for(o=m;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:na(9,l)}}catch(b){re(l,l.return,b)}if(l===o){C=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,C=_;break e}C=l.return}}if(z=s,cn(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Gi,e)}catch{}r=!0}return r}finally{W=n,Ve.transition=t}}return!1}function bu(e,t,n){t=gr(n,t),t=Bh(e,t,1),e=Zt(e,t,1),t=ke(),e!==null&&(Ss(e,1,t),De(e,t))}function re(e,t,n){if(e.tag===3)bu(e,e,n);else for(;t!==null;){if(t.tag===3){bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(en===null||!en.has(r))){e=gr(n,e),e=qh(t,e,1),t=Zt(t,e,1),e=ke(),t!==null&&(Ss(t,1,e),De(t,e));break}}t=t.return}}function C0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&n,me===e&&(xe&n)===n&&(ue===4||ue===3&&(xe&130023424)===xe&&500>se()-Ql?Nn(e,0):Gl|=n),De(e,t)}function uf(e,t){t===0&&(e.mode&1?(t=zs,zs<<=1,!(zs&130023424)&&(zs=4194304)):t=1);var n=ke();e=St(e,t),e!==null&&(Ss(e,t,n),De(e,n))}function P0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uf(e,n)}function T0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),uf(e,n)}var df;df=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)Re=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Re=!1,x0(e,t,n);Re=!!(e.flags&131072)}else Re=!1,J&&t.flags&1048576&&mh(t,Pi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hi(e,t),e=t.pendingProps;var s=hr(t,_e.current);lr(t,n),s=Bl(null,t,r,e,s,n);var i=ql();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(i=!0,Ei(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Al(t),s.updater=ta,t.stateNode=s,s._reactInternals=t,$o(t,r,e,n),t=Mo(null,t,r,!0,i,n)):(t.tag=0,J&&i&&Tl(t),be(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=R0(r),e=Ze(r,e),s){case 0:t=Do(null,t,r,e,n);break e;case 1:t=fu(null,t,r,e,n);break e;case 11:t=du(null,t,r,e,n);break e;case 14:t=hu(null,t,r,Ze(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ze(r,s),Do(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ze(r,s),fu(e,t,r,s,n);case 3:e:{if(Yh(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,wh(e,t),Ri(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=gr(Error(N(423)),t),t=mu(e,t,r,n,s);break e}else if(r!==s){s=gr(Error(N(424)),t),t=mu(e,t,r,n,s);break e}else for(Ie=Xt(t.stateNode.containerInfo.firstChild),Ue=t,J=!0,nt=null,n=yh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fr(),r===s){t=Et(e,t,n);break e}be(e,t,r,n)}t=t.child}return t;case 5:return jh(t),e===null&&To(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ko(r,s)?o=null:i!==null&&ko(r,i)&&(t.flags|=32),Vh(e,t),be(e,t,o,n),t.child;case 6:return e===null&&To(t),null;case 13:return Gh(e,t,n);case 4:return Il(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mr(t,null,r,n):be(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ze(r,s),du(e,t,r,s,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,V(Ti,r._currentValue),r._currentValue=o,i!==null)if(it(i.value,o)){if(i.children===s.children&&!$e.current){t=Et(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=_t(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Oo(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Oo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}be(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,lr(t,n),s=Ge(s),r=r(s),t.flags|=1,be(e,t,r,n),t.child;case 14:return r=t.type,s=Ze(r,t.pendingProps),s=Ze(r.type,s),hu(e,t,r,s,n);case 15:return Wh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ze(r,s),hi(e,t),t.tag=1,Le(r)?(e=!0,Ei(t)):e=!1,lr(t,n),zh(t,r,s),$o(t,r,s,n),Mo(null,t,r,!0,e,n);case 19:return Qh(e,t,n);case 22:return Hh(e,t,n)}throw Error(N(156,t.tag))};function hf(e,t){return Id(e,t)}function O0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,n,r){return new O0(e,t,n,r)}function Zl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R0(e){if(typeof e=="function")return Zl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yl)return 11;if(e===vl)return 14}return 2}function nn(e,t){var n=e.alternate;return n===null?(n=He(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Zl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yn:return kn(n.children,s,i,t);case xl:o=8,s|=8;break;case no:return e=He(12,n,t,s|2),e.elementType=no,e.lanes=i,e;case ro:return e=He(13,n,t,s),e.elementType=ro,e.lanes=i,e;case so:return e=He(19,n,t,s),e.elementType=so,e.lanes=i,e;case jd:return sa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vd:o=10;break e;case wd:o=9;break e;case yl:o=11;break e;case vl:o=14;break e;case It:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=He(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function kn(e,t,n,r){return e=He(7,e,r,t),e.lanes=n,e}function sa(e,t,n,r){return e=He(22,e,r,t),e.elementType=jd,e.lanes=n,e.stateNode={isHidden:!1},e}function Ha(e,t,n){return e=He(6,e,null,t),e.lanes=n,e}function Va(e,t,n){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sa(0),this.expirationTimes=Sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ec(e,t,n,r,s,i,o,l,c){return e=new $0(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=He(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(i),e}function L0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ff(e){if(!e)return an;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Le(n))return hh(e,n,t)}return t}function mf(e,t,n,r,s,i,o,l,c){return e=ec(n,r,!0,e,s,i,o,l,c),e.context=ff(null),n=e.current,r=ke(),s=tn(n),i=_t(r,s),i.callback=t??null,Zt(n,i,s),e.current.lanes=s,Ss(e,s,r),De(e,r),e}function ia(e,t,n,r){var s=t.current,i=ke(),o=tn(s);return n=ff(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zt(s,t,o),e!==null&&(st(e,s,o,i),ci(e,s,o)),o}function Fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tc(e,t){Nu(e,t),(e=e.alternate)&&Nu(e,t)}function D0(){return null}var pf=typeof reportError=="function"?reportError:function(e){console.error(e)};function nc(e){this._internalRoot=e}aa.prototype.render=nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));ia(e,t,null,null)};aa.prototype.unmount=nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;On(function(){ia(null,e,null,null)}),t[kt]=null}};function aa(e){this._internalRoot=e}aa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&t!==0&&t<Bt[n].priority;n++);Bt.splice(n,0,e),n===0&&Yd(e)}};function rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ku(){}function M0(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fi(o);i.call(u)}}var o=mf(t,r,e,0,null,!1,!1,"",ku);return e._reactRootContainer=o,e[kt]=o.current,us(e.nodeType===8?e.parentNode:e),On(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Fi(c);l.call(u)}}var c=ec(e,0,!1,null,null,!1,!1,"",ku);return e._reactRootContainer=c,e[kt]=c.current,us(e.nodeType===8?e.parentNode:e),On(function(){ia(t,c,n,r)}),c}function la(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Fi(o);l.call(c)}}ia(t,o,e,s)}else o=M0(n,t,e,s,r);return Fi(o)}qd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zr(t.pendingLanes);n!==0&&(_l(t,n|1),De(t,se()),!(z&6)&&(xr=se()+500,cn()))}break;case 13:On(function(){var r=St(e,1);if(r!==null){var s=ke();st(r,e,1,s)}}),tc(e,1)}};bl=function(e){if(e.tag===13){var t=St(e,134217728);if(t!==null){var n=ke();st(t,e,134217728,n)}tc(e,134217728)}};Wd=function(e){if(e.tag===13){var t=tn(e),n=St(e,t);if(n!==null){var r=ke();st(n,e,t,r)}tc(e,t)}};Hd=function(){return W};Vd=function(e,t){var n=W;try{return W=e,t()}finally{W=n}};po=function(e,t,n){switch(t){case"input":if(oo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Xi(r);if(!s)throw Error(N(90));bd(r),oo(r,s)}}}break;case"textarea":kd(e,n);break;case"select":t=n.value,t!=null&&sr(e,!!n.multiple,t,!1)}};Rd=Kl;$d=On;var A0={usingClientEntryPoint:!1,Events:[Cs,Jn,Xi,Td,Od,Kl]},Dr={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I0={bundleType:Dr.bundleType,version:Dr.version,rendererPackageName:Dr.rendererPackageName,rendererConfig:Dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Md(e),e===null?null:e.stateNode},findFiberByHostInstance:Dr.findFiberByHostInstance||D0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Gi=Xs.inject(I0),ft=Xs}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A0;ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(t))throw Error(N(200));return L0(e,t,null,n)};ze.createRoot=function(e,t){if(!rc(e))throw Error(N(299));var n=!1,r="",s=pf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ec(e,1,!1,null,null,n,!1,r,s),e[kt]=t.current,us(e.nodeType===8?e.parentNode:e),new nc(t)};ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Md(t),e=e===null?null:e.stateNode,e};ze.flushSync=function(e){return On(e)};ze.hydrate=function(e,t,n){if(!oa(t))throw Error(N(200));return la(null,e,t,!0,n)};ze.hydrateRoot=function(e,t,n){if(!rc(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=pf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=mf(t,null,e,1,n??null,s,!1,i,o),e[kt]=t.current,us(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new aa(t)};ze.render=function(e,t,n){if(!oa(t))throw Error(N(200));return la(null,e,t,!1,n)};ze.unmountComponentAtNode=function(e){if(!oa(e))throw Error(N(40));return e._reactRootContainer?(On(function(){la(null,null,e,!1,function(){e._reactRootContainer=null,e[kt]=null})}),!0):!1};ze.unstable_batchedUpdates=Kl;ze.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oa(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return la(e,t,n,!1,r)};ze.version="18.3.1-next-f1338f8080-20240426";function gf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gf)}catch(e){console.error(e)}}gf(),pd.exports=ze;var U0=pd.exports,xf,Su=U0;xf=Su.createRoot,Su.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vs.apply(this,arguments)}var Gt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gt||(Gt={}));const Eu="popstate";function F0(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Go("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:zi(s)}return B0(t,n,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z0(){return Math.random().toString(36).substr(2,8)}function Cu(e,t){return{usr:e.state,key:e.key,idx:t}}function Go(e,t,n,r){return n===void 0&&(n=null),vs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Nr(t):t,{state:n,key:t&&t.key||r||z0()})}function zi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Nr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function B0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Gt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(vs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Gt.Pop;let y=d(),p=y==null?null:y-u;u=y,c&&c({action:l,location:j.location,delta:p})}function f(y,p){l=Gt.Push;let m=Go(j.location,y,p);u=d()+1;let g=Cu(m,u),_=j.createHref(m);try{o.pushState(g,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(_)}i&&c&&c({action:l,location:j.location,delta:1})}function x(y,p){l=Gt.Replace;let m=Go(j.location,y,p);u=d();let g=Cu(m,u),_=j.createHref(m);o.replaceState(g,"",_),i&&c&&c({action:l,location:j.location,delta:0})}function w(y){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof y=="string"?y:zi(y);return m=m.replace(/ $/,"%20"),ae(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let j={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Eu,h),c=y,()=>{s.removeEventListener(Eu,h),c=null}},createHref(y){return t(s,y)},createURL:w,encodeLocation(y){let p=w(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:x,go(y){return o.go(y)}};return j}var Pu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pu||(Pu={}));function q0(e,t,n){return n===void 0&&(n="/"),W0(e,t,n,!1)}function W0(e,t,n,r){let s=typeof t=="string"?Nr(t):t,i=sc(s.pathname||"/",n);if(i==null)return null;let o=vf(e);H0(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ng(i);l=eg(o[c],u,r)}return l}function vf(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ae(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=rn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vf(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:X0(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of wf(i.path))s(i,o,c)}),t}function wf(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=wf(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function H0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Z0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V0=/^:[\w-]+$/,Y0=3,G0=2,Q0=1,K0=10,J0=-2,Tu=e=>e==="*";function X0(e,t){let n=e.split("/"),r=n.length;return n.some(Tu)&&(r+=J0),t&&(r+=G0),n.filter(s=>!Tu(s)).reduce((s,i)=>s+(V0.test(i)?Y0:i===""?Q0:K0),r)}function Z0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function eg(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Ou({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Ou({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:rn([i,h.pathname]),pathnameBase:ag(rn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=rn([i,h.pathnameBase]))}return o}function Ou(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=tg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:x}=d;if(f==="*"){let j=l[h]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const w=l[h];return x&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function tg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),yf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function ng(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function rg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Nr(e):e;return{pathname:n?n.startsWith("/")?n:sg(n,t):t,search:og(r),hash:lg(s)}}function sg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ya(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ig(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ic(e,t){let n=ig(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ac(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Nr(e):(s=vs({},e),ae(!s.pathname||!s.pathname.includes("?"),Ya("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),Ya("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),Ya("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=rg(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const rn=e=>e.join("/").replace(/\/\/+/g,"/"),ag=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),og=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jf=["post","put","patch","delete"];new Set(jf);const ug=["get",...jf];new Set(ug);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(this,arguments)}const oc=v.createContext(null),dg=v.createContext(null),un=v.createContext(null),ca=v.createContext(null),Ot=v.createContext({outlet:null,matches:[],isDataRoute:!1}),_f=v.createContext(null);function hg(e,t){let{relative:n}=t===void 0?{}:t;kr()||ae(!1);let{basename:r,navigator:s}=v.useContext(un),{hash:i,pathname:o,search:l}=Nf(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:rn([r,o])),s.createHref({pathname:c,search:l,hash:i})}function kr(){return v.useContext(ca)!=null}function Rt(){return kr()||ae(!1),v.useContext(ca).location}function bf(e){v.useContext(un).static||v.useLayoutEffect(e)}function pt(){let{isDataRoute:e}=v.useContext(Ot);return e?Eg():fg()}function fg(){kr()||ae(!1);let e=v.useContext(oc),{basename:t,future:n,navigator:r}=v.useContext(un),{matches:s}=v.useContext(Ot),{pathname:i}=Rt(),o=JSON.stringify(ic(s,n.v7_relativeSplatPath)),l=v.useRef(!1);return bf(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=ac(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:rn([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const mg=v.createContext(null);function pg(e){let t=v.useContext(Ot).outlet;return t&&v.createElement(mg.Provider,{value:e},t)}function Nf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(un),{matches:s}=v.useContext(Ot),{pathname:i}=Rt(),o=JSON.stringify(ic(s,r.v7_relativeSplatPath));return v.useMemo(()=>ac(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function gg(e,t){return xg(e,t)}function xg(e,t,n,r){kr()||ae(!1);let{navigator:s,static:i}=v.useContext(un),{matches:o}=v.useContext(Ot),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=Rt(),h;if(t){var f;let p=typeof t=="string"?Nr(t):t;u==="/"||(f=p.pathname)!=null&&f.startsWith(u)||ae(!1),h=p}else h=d;let x=h.pathname||"/",w=x;if(u!=="/"){let p=u.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(p.length).join("/")}let j=!i&&n&&n.matches&&n.matches.length>0?n.matches:q0(e,{pathname:w}),y=_g(j&&j.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:rn([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:rn([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,r);return t&&y?v.createElement(ca.Provider,{value:{location:ws({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Gt.Pop}},y):y}function yg(){let e=Sg(),t=cg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const vg=v.createElement(yg,null);class wg extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Ot.Provider,{value:this.props.routeContext},v.createElement(_f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jg(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(oc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Ot.Provider,{value:t},r)}function _g(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ae(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:x}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let x,w=!1,j=null,y=null;n&&(x=l&&h.route.id?l[h.route.id]:void 0,j=h.route.errorElement||vg,c&&(u<0&&f===0?(w=!0,y=null):u===f&&(w=!0,y=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),m=()=>{let g;return x?g=j:w?g=y:h.route.Component?g=v.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,v.createElement(jg,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(wg,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var kf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kf||{}),Bi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bi||{});function bg(e){let t=v.useContext(oc);return t||ae(!1),t}function Ng(e){let t=v.useContext(dg);return t||ae(!1),t}function kg(e){let t=v.useContext(Ot);return t||ae(!1),t}function Sf(e){let t=kg(),n=t.matches[t.matches.length-1];return n.route.id||ae(!1),n.route.id}function Sg(){var e;let t=v.useContext(_f),n=Ng(Bi.UseRouteError),r=Sf(Bi.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Eg(){let{router:e}=bg(kf.UseNavigateStable),t=Sf(Bi.UseNavigateStable),n=v.useRef(!1);return bf(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ws({fromRouteId:t},i)))},[e,t])}function Cg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lc(e){let{to:t,replace:n,state:r,relative:s}=e;kr()||ae(!1);let{future:i,static:o}=v.useContext(un),{matches:l}=v.useContext(Ot),{pathname:c}=Rt(),u=pt(),d=ac(t,ic(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function cc(e){return pg(e.context)}function X(e){ae(!1)}function Pg(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Gt.Pop,navigator:i,static:o=!1,future:l}=e;kr()&&ae(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:ws({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Nr(r));let{pathname:d="/",search:h="",hash:f="",state:x=null,key:w="default"}=r,j=v.useMemo(()=>{let y=sc(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:x,key:w},navigationType:s}},[c,d,h,f,x,w,s]);return j==null?null:v.createElement(un.Provider,{value:u},v.createElement(ca.Provider,{children:n,value:j}))}function Tg(e){let{children:t,location:n}=e;return gg(Qo(t),n)}new Promise(()=>{});function Qo(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Qo(r.props.children,i));return}r.type!==X&&ae(!1),!r.props.index||!r.props.children||ae(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qo(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ko.apply(this,arguments)}function Og(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Rg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $g(e,t){return e.button===0&&(!t||t==="_self")&&!Rg(e)}const Lg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dg="6";try{window.__reactRouterVersion=Dg}catch{}const Mg="startTransition",Ru=Cm[Mg];function Ag(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=F0({window:s,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(h=>{u&&Ru?Ru(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>Cg(r),[r]),v.createElement(Pg,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Ig=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=Og(t,Lg),{basename:x}=v.useContext(un),w,j=!1;if(typeof u=="string"&&Ug.test(u)&&(w=u,Ig))try{let g=new URL(window.location.href),_=u.startsWith("//")?new URL(g.protocol+u):new URL(u),b=sc(_.pathname,x);_.origin===g.origin&&b!=null?u=b+_.search+_.hash:j=!0}catch{}let y=hg(u,{relative:s}),p=Fg(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function m(g){r&&r(g),g.defaultPrevented||p(g)}return v.createElement("a",Ko({},f,{href:w||y,onClick:j||i?r:m,ref:n,target:c}))});var $u;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($u||($u={}));var Lu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lu||(Lu={}));function Fg(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=pt(),u=Rt(),d=Nf(e,{relative:o});return v.useCallback(h=>{if($g(h,n)){h.preventDefault();let f=r!==void 0?r:zi(u)===zi(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}let zg={data:""},Bg=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||zg,qg=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Wg=/\/\*[^]*?\*\/|  +/g,Du=/\n+/g,Wt=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Wt(o,i):i+"{"+Wt(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Wt(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Wt.p?Wt.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},gt={},Ef=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Ef(e[n]);return t}return e},Hg=(e,t,n,r,s)=>{let i=Ef(e),o=gt[i]||(gt[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!gt[o]){let c=i!==e?e:(u=>{let d,h,f=[{}];for(;d=qg.exec(u.replace(Wg,""));)d[4]?f.shift():d[3]?(h=d[3].replace(Du," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(Du," ").trim();return f[0]})(e);gt[o]=Wt(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&gt.g?gt.g:null;return n&&(gt.g=gt[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(gt[o],t,r,l),o},Vg=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Wt(l,""):l===!1?"":l}return r+s+(o??"")},"");function ua(e){let t=this||{},n=e.call?e(t.p):e;return Hg(n.unshift?n.raw?Vg(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,Bg(t.target),t.g,t.o,t.k)}let Cf,Jo,Xo;ua.bind({g:1});let Ct=ua.bind({k:1});function Yg(e,t,n,r){Wt.p=t,Cf=e,Jo=n,Xo=r}function dn(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:Jo&&Jo()},l),n.o=/ *go\d+/.test(c),l.className=ua.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Xo&&u[0]&&Xo(l),Cf(u,l)}return s}}var Gg=e=>typeof e=="function",qi=(e,t)=>Gg(e)?e(t):e,Qg=(()=>{let e=0;return()=>(++e).toString()})(),Pf=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Kg=20,Tf=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Kg)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return Tf(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},gi=[],bn={toasts:[],pausedAt:void 0},Dn=e=>{bn=Tf(bn,e),gi.forEach(t=>{t(bn)})},Jg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xg=(e={})=>{let[t,n]=v.useState(bn),r=v.useRef(bn);v.useEffect(()=>(r.current!==bn&&n(bn),gi.push(n),()=>{let i=gi.indexOf(n);i>-1&&gi.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Jg[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:s}},Zg=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Qg()}),Ts=e=>(t,n)=>{let r=Zg(t,e,n);return Dn({type:2,toast:r}),r.id},Ne=(e,t)=>Ts("blank")(e,t);Ne.error=Ts("error");Ne.success=Ts("success");Ne.loading=Ts("loading");Ne.custom=Ts("custom");Ne.dismiss=e=>{Dn({type:3,toastId:e})};Ne.remove=e=>Dn({type:4,toastId:e});Ne.promise=(e,t,n)=>{let r=Ne.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?qi(t.success,s):void 0;return i?Ne.success(i,{id:r,...n,...n==null?void 0:n.success}):Ne.dismiss(r),s}).catch(s=>{let i=t.error?qi(t.error,s):void 0;i?Ne.error(i,{id:r,...n,...n==null?void 0:n.error}):Ne.dismiss(r)}),e};var ex=(e,t)=>{Dn({type:1,toast:{id:e,height:t}})},tx=()=>{Dn({type:5,time:Date.now()})},Zr=new Map,nx=1e3,rx=(e,t=nx)=>{if(Zr.has(e))return;let n=setTimeout(()=>{Zr.delete(e),Dn({type:4,toastId:e})},t);Zr.set(e,n)},sx=e=>{let{toasts:t,pausedAt:n}=Xg(e);v.useEffect(()=>{if(n)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&Ne.dismiss(l.id);return}return setTimeout(()=>Ne.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=v.useCallback(()=>{n&&Dn({type:6,time:Date.now()})},[n]),s=v.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(x=>(x.position||u)===(i.position||u)&&x.height),h=d.findIndex(x=>x.id===i.id),f=d.filter((x,w)=>w<h&&x.visible).length;return d.filter(x=>x.visible).slice(...l?[f+1]:[0,f]).reduce((x,w)=>x+(w.height||0)+c,0)},[t]);return v.useEffect(()=>{t.forEach(i=>{if(i.dismissed)rx(i.id,i.removeDelay);else{let o=Zr.get(i.id);o&&(clearTimeout(o),Zr.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:ex,startPause:tx,endPause:r,calculateOffset:s}}},ix=Ct`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ax=Ct`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ox=Ct`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,lx=dn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ix} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ax} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ox} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,cx=Ct`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ux=dn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${cx} 1s linear infinite;
`,dx=Ct`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hx=Ct`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fx=dn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mx=dn("div")`
  position: absolute;
`,px=dn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gx=Ct`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xx=dn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yx=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?v.createElement(xx,null,t):t:n==="blank"?null:v.createElement(px,null,v.createElement(ux,{...r}),n!=="loading"&&v.createElement(mx,null,n==="error"?v.createElement(lx,{...r}):v.createElement(fx,{...r})))},vx=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wx=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,jx="0%{opacity:0;} 100%{opacity:1;}",_x="0%{opacity:1;} 100%{opacity:0;}",bx=dn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Nx=dn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kx=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Pf()?[jx,_x]:[vx(n),wx(n)];return{animation:t?`${Ct(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ct(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Sx=v.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?kx(e.position||t||"top-center",e.visible):{opacity:0},i=v.createElement(yx,{toast:e}),o=v.createElement(Nx,{...e.ariaProps},qi(e.message,e));return v.createElement(bx,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):v.createElement(v.Fragment,null,i,o))});Yg(v.createElement);var Ex=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=v.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return v.createElement("div",{ref:i,className:t,style:n},s)},Cx=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Pf()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},Px=ua`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zs=16,Tx=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=sx(n);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Zs,left:Zs,right:Zs,bottom:Zs,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,h=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),f=Cx(d,h);return v.createElement(Ex,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Px:"",style:f},u.type==="custom"?qi(u.message,u):s?s(u):v.createElement(Sx,{toast:u,position:d}))}))},F=Ne;const Ox="modulepreload",Rx=function(e){return"/"+e},Mu={},yr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Rx(c),c in Mu)return;Mu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ox,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,x)=>{h.addEventListener("load",f),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},$x=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Sr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class uc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Lx extends uc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Dx extends uc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mx extends uc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zo||(Zo={}));var Ax=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Ix{constructor(t,{headers:n={},customFetch:r,region:s=Zo.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=$x(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Ax(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new Lx(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Dx(d);if(!d.ok)throw new Mx(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return f==="application/json"?x=yield d.json():f==="application/octet-stream"?x=yield d.blob():f==="text/event-stream"?x=d:f==="multipart/form-data"?x=yield d.formData():x=yield d.text(),{data:x,error:null}}catch(s){return{data:null,error:s}}})}}var Oe={},dc={},da={},Os={},ha={},fa={},Ux=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vr=Ux();const Fx=vr.fetch,Of=vr.fetch.bind(vr),Rf=vr.Headers,zx=vr.Request,Bx=vr.Response,Sr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rf,Request:zx,Response:Bx,default:Of,fetch:Fx},Symbol.toStringTag,{value:"Module"})),qx=hm(Sr);var ma={};Object.defineProperty(ma,"__esModule",{value:!0});let Wx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ma.default=Wx;var $f=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fa,"__esModule",{value:!0});const Hx=$f(qx),Vx=$f(ma);let Yx=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Hx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const j=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");j&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const j=await i.text();try{u=JSON.parse(j),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,x="OK")}catch{i.status===404&&j===""?(f=204,x="No Content"):u={message:j}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,x="OK"),u&&this.shouldThrowOnError)throw new Vx.default(u)}return{error:u,data:d,count:h,status:f,statusText:x}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};fa.default=Yx;var Gx=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ha,"__esModule",{value:!0});const Qx=Gx(fa);let Kx=class extends Qx.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ha.default=Kx;var Jx=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Os,"__esModule",{value:!0});const Xx=Jx(ha);let Zx=class extends Xx.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Os.default=Zx;var ey=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(da,"__esModule",{value:!0});const Mr=ey(Os);let ty=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Mr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Mr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Mr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};da.default=ty;var pa={},ga={};Object.defineProperty(ga,"__esModule",{value:!0});ga.version=void 0;ga.version="0.0.0-automated";Object.defineProperty(pa,"__esModule",{value:!0});pa.DEFAULT_HEADERS=void 0;const ny=ga;pa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ny.version}`};var Lf=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dc,"__esModule",{value:!0});const ry=Lf(da),sy=Lf(Os),iy=pa;let ay=class Df{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},iy.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new ry.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Df(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new sy.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};dc.default=ay;var Er=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;const Mf=Er(dc);Oe.PostgrestClient=Mf.default;const Af=Er(da);Oe.PostgrestQueryBuilder=Af.default;const If=Er(Os);Oe.PostgrestFilterBuilder=If.default;const Uf=Er(ha);Oe.PostgrestTransformBuilder=Uf.default;const Ff=Er(fa);Oe.PostgrestBuilder=Ff.default;const zf=Er(ma);Oe.PostgrestError=zf.default;var oy=Oe.default={PostgrestClient:Mf.default,PostgrestQueryBuilder:Af.default,PostgrestFilterBuilder:If.default,PostgrestTransformBuilder:Uf.default,PostgrestBuilder:Ff.default,PostgrestError:zf.default};const{PostgrestClient:ly,PostgrestQueryBuilder:B1,PostgrestFilterBuilder:q1,PostgrestTransformBuilder:W1,PostgrestBuilder:H1,PostgrestError:V1}=oy,cy="2.11.2",uy={"X-Client-Info":`realtime-js/${cy}`},dy="1.0.0",Bf=1e4,hy=1e3;var ur;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ur||(ur={}));var Me;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Me||(Me={}));var tt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tt||(tt={}));var el;(function(e){e.websocket="websocket"})(el||(el={}));var vn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vn||(vn={}));class fy{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class qf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(H||(H={}));const Au=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=my(o,e,t,s),i),{})},my=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Wf(i,o):tl(o)},Wf=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return yy(t,n)}switch(e){case H.bool:return py(t);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return gy(t);case H.json:case H.jsonb:return xy(t);case H.timestamp:return vy(t);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return tl(t);default:return tl(t)}},tl=e=>e,py=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yy=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Wf(t,l))}return e},vy=e=>typeof e=="string"?e.replace(" ","T"):e,Hf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ga{constructor(t,n,r={},s=Bf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Iu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Iu||(Iu={}));class es{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=es.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=es.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=es.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(y=>y.presence_ref),x=h.map(y=>y.presence_ref),w=d.filter(y=>x.indexOf(y.presence_ref)<0),j=h.filter(y=>f.indexOf(y.presence_ref)<0);w.length>0&&(l[u]=w),j.length>0&&(c[u]=j)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(x=>x.presence_ref),f=d.filter(x=>h.indexOf(x.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Uu||(Uu={}));var Fu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fu||(Fu={}));var yt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class hc{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ga(this,tt.join,this.params,this.timeout),this.rejoinTimer=new qf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new es(this),this.broadcastEndpointURL=Hf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(yt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(yt.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(yt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,x=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let j=0;j<x;j++){const y=f[j],{filter:{event:p,schema:m,table:g,filter:_}}=y,b=d&&d[j];if(b&&b.event===p&&b.schema===m&&b.table===g&&b.filter===_)w.push(Object.assign(Object.assign({},y),{id:b.id}));else{this.unsubscribe(),t==null||t(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(yt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Me.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Ga(this,tt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ga(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=tt;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var w,j,y;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(j=x.filter)===null||j===void 0?void 0:j.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(x=>x.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(x=>{var w,j,y,p,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const _=x.id,b=(w=x.filter)===null||w===void 0?void 0:w.event;return _&&((j=n.ids)===null||j===void 0?void 0:j.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(m=(p=x==null?void 0:x.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:j,table:y,commit_timestamp:p,type:m,errors:g}=w;f=Object.assign(Object.assign({},{schema:j,table:y,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(w))}x.callback(f,r)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&hc.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tt.close,{},t)}_onError(t){this._on(tt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Au(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Au(t.columns,t.old_record)),n}}const wy=()=>{},jy=typeof WebSocket<"u",_y=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class by{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=uy,this.params={},this.timeout=Bf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=wy,this.conn=null,this.sendBuffer=[],this.serializer=new fy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>yr(async()=>{const{default:c}=await Promise.resolve().then(()=>Sr);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${el.websocket}`,this.httpEndpoint=Hf(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new qf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(jy){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ny(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),yr(async()=>{const{default:t}=await import("./browser-mH5_qE1t.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dy}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ur.connecting:return vn.Connecting;case ur.open:return vn.Open;case ur.closing:return vn.Closing;default:return vn.Closed}}isConnected(){return this.connectionState()===vn.Open}channel(t,n={config:{}}){const r=new hc(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(tt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(hy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([_y],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ny{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ur.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class fc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function he(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ky extends fc{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class nl extends fc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Sy=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Vf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Sr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Ey=()=>Sy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yr(()=>Promise.resolve().then(()=>Sr),void 0)).Response:Response}),rl=e=>{if(Array.isArray(e))return e.map(n=>rl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=rl(r)}),t};var Mn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cy=(e,t,n)=>Mn(void 0,void 0,void 0,function*(){const r=yield Ey();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new ky(Qa(s),e.status||500))}).catch(s=>{t(new nl(Qa(s),s))}):t(new nl(Qa(e),e))}),Py=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Rs(e,t,n,r,s,i){return Mn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Py(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Cy(c,l,r))})})}function Wi(e,t,n,r){return Mn(this,void 0,void 0,function*(){return Rs(e,"GET",t,n,r)})}function Ft(e,t,n,r,s){return Mn(this,void 0,void 0,function*(){return Rs(e,"POST",t,r,s,n)})}function Ty(e,t,n,r,s){return Mn(this,void 0,void 0,function*(){return Rs(e,"PUT",t,r,s,n)})}function Oy(e,t,n,r){return Mn(this,void 0,void 0,function*(){return Rs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Yf(e,t,n,r,s){return Mn(this,void 0,void 0,function*(){return Rs(e,"DELETE",t,r,s,n)})}var Pe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Ry={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $y{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Vf(s)}uploadOrUpdate(t,n,r,s){return Pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},zu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(he(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:zu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(he(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ft(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new fc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}update(t,n,r){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ft(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Pe(this,void 0,void 0,function*(){try{const s=yield Ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}download(t,n){return Pe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Wi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}})}info(t){return Pe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Wi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:rl(r),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}exists(t){return Pe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Oy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(he(r)&&r instanceof nl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}list(t,n,r){return Pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ry),n),{prefix:t||""});return{data:yield Ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Ly="2.7.1",Dy={"X-Client-Info":`storage-js/${Ly}`};var Fn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class My{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Dy),n),this.fetch=Vf(r)}listBuckets(){return Fn(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(he(t))return{data:null,error:t};throw t}})}getBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Fn(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Fn(this,void 0,void 0,function*(){try{return{data:yield Ty(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}}class Ay extends My{constructor(t,n={},r){super(t,n,r)}from(t){return new $y(this.url,this.headers,t,this.fetch)}}const Iy="2.49.1";let qr="";typeof Deno<"u"?qr="deno":typeof document<"u"?qr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qr="react-native":qr="node";const Uy={"X-Client-Info":`supabase-js-${qr}/${Iy}`},Fy={headers:Uy},zy={schema:"public"},By={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qy={};var Wy=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Hy=e=>{let t;return e?t=e:typeof fetch>"u"?t=Of:t=fetch,(...n)=>t(...n)},Vy=()=>typeof Headers>"u"?Rf:Headers,Yy=(e,t,n)=>{const r=Hy(n),s=Vy();return(i,o)=>Wy(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Gy=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function Qy(e){return e.replace(/\/$/,"")}function Ky(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Gy(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Gf="2.68.0",Wn=30*1e3,sl=3,Ka=sl*Wn,Jy="http://localhost:9999",Xy="supabase.auth.token",Zy={"X-Client-Info":`gotrue-js/${Gf}`},il="X-Supabase-Api-Version",Qf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ev(e){return Math.round(Date.now()/1e3)+e}function tv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ct=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},ts=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function nv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Kf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Sr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},rv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jf=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ei=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ti=async(e,t)=>{await e.removeItem(t)};function sv(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,s=(l&15)<<4|c>>2,i=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class xa{constructor(){this.promise=new xa.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}xa.promiseConstructor=Promise;function Bu(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(sv(r))}async function iv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function av(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function ov(e){return("0"+e.toString(16)).substr(-2)}function lv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,ov).join("")}async function cv(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function uv(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await cv(e);return uv(n)}async function zn(e,t,n=!1){const r=lv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Jf(e,`${t}-code-verifier`,s);const i=await dv(r);return[i,r===i?"plain":"s256"]}const hv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fv(e){const t=e.headers.get(il);if(!t||!t.match(hv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class mc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mv extends mc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function pv(e){return D(e)&&e.name==="AuthApiError"}class Xf extends mc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class An extends mc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Mt extends An{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gv(e){return D(e)&&e.name==="AuthSessionMissingError"}class Ja extends An{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ni extends An{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ri extends An{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xv(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class qu extends An{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class al extends An{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Xa(e){return D(e)&&e.name==="AuthRetryableFetchError"}class Wu extends An{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var yv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const xn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vv=[502,503,504];async function Hu(e){var t;if(!rv(e))throw new al(xn(e),0);if(vv.includes(e.status))throw new al(xn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Xf(xn(i),i)}let r;const s=fv(e);if(s&&s.getTime()>=Qf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wu(xn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Wu(xn(n),e.status,n.weak_password.reasons);throw new mv(xn(n),e.status||500,r)}const wv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[il]||(i[il]=Qf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await jv(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function jv(e,t,n,r,s,i){const o=wv(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new al(xn(c),0)}if(l.ok||await Hu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Hu(c)}}function At(e){var t;let n=null;kv(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ev(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Vu(e){const t=At(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ht(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _v(e){return{data:e,error:null}}function bv(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=yv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Nv(e){return e}function kv(e){return e.access_token&&e.refresh_token&&e.expires_in}var Sv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Ev{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Kf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ht})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Sv(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ht})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nv});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);u[`${y}Page`]=j}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ht})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ht})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ht})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}const Cv={getItem:e=>ts()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ts()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ts()&&globalThis.localStorage.removeItem(e)}};function Yu(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Pv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bn={debug:!!(globalThis&&ts()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Tv extends Zf{}async function Ov(e,t,n){Bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Tv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Pv();const Rv={url:Jy,storageKey:Xy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gu(e,t,n){return await n()}class js{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=js.nextInstanceID,js.nextInstanceID+=1,this.instanceID>0&&ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Rv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ev({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kf(s.fetch),this.lock=s.lock||Gu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ct()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ov:this.lock=Gu,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ts()?this.storage=Cv:(this.memoryStorage={},this.storage=Yu(this.memoryStorage)):(this.memoryStorage={},this.storage=Yu(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=nv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ct()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xv(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?{error:n}:{error:new Xf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:At}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await zn(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:w},xform:At})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:At})}else throw new ni("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Vu})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Vu})}else throw new ni("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ja}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await ei(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:At});if(await ti(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ja}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:At}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ja}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await zn(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ni("You must provide either an email or phone number.")}catch(l){if(D(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:At});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await zn(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:_v})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Mt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ni("You must provide either an email or phone number and a type")}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ka:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ht}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ht})})}catch(n){if(D(n))return gv(n)&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Mt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await zn(this.storage,this.storageKey));const{data:u,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ht});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Bu(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Bu(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(D(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Mt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ct())throw new ri("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ri(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ri("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qu("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ri("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const x=f-d;x*1e3<=Wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:j,error:y}=await this._getUser(i);if(y)throw y;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ei(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(pv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=tv(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await zn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ct()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await av(async s=>(s>0&&await iv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:At})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Xa(i)&&Date.now()+o-r<Wn})}catch(r){if(this._debug(n,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ct()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ei(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ka;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ka}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Xa(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xa;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return Xa(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ti(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Wn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wn}ms, refresh threshold is ${sl} ticks`),s<=sl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await zn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}js.nextInstanceID=0;const $v=js;class Lv extends $v{constructor(t){super(t)}}var Dv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Mv{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Qy(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:zy,realtime:qy,auth:Object.assign(Object.assign({},By),{storageKey:c}),global:Fy},d=Ky(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Yy(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ly(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ix(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ay(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Dv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lv({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new by(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Av=(e,t,n)=>new Mv(e,t,n),Iv="https://tyzdzwnofbuyymlzjgqf.supabase.co",Uv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR5emR6d25vZmJ1eXltbHpqZ3FmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4NjMzNjksImV4cCI6MjA1NjQzOTM2OX0.PvE2le3OOLvMZ99jESBMhH3V5gGW15YndEvseFpD280",O=Av(Iv,Uv),em=v.createContext(void 0);function Fv({children:e}){const[t,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(!0);v.useEffect(()=>{O.auth.getSession().then(({data:{session:_}})=>{n(_),s((_==null?void 0:_.user)??null),_!=null&&_.user?h(_.user.id):d(!1)});const{data:{subscription:g}}=O.auth.onAuthStateChange((_,b)=>{n(b),s((b==null?void 0:b.user)??null),b!=null&&b.user?h(b.user.id):(o(null),c(!1),d(!1))});return()=>{g.unsubscribe()}},[]);async function h(g){d(!0);const{data:_,error:b}=await O.from("profiles").select("*").eq("id",g).single();b?console.error("Error fetching profile:",b):_&&(o(_),c(_.is_admin)),d(!1)}async function f(g,_){const{error:b}=await O.auth.signInWithPassword({email:g,password:_});return{error:b}}async function x(g,_){const{data:b,error:k}=await O.auth.signUp({email:g,password:_});return{data:b,error:k}}async function w(){await O.auth.signOut()}async function j(g){try{const b=`${window.location.origin}/reset-password`;console.log("Sending password reset with redirect to:",b);const{error:k}=await O.auth.resetPasswordForEmail(g,{redirectTo:b});return k&&console.error("Password reset error:",k),{error:k}}catch(_){return console.error("Exception in resetPassword:",_),{error:_}}}async function y(g){if(!r)return{error:new Error("No user logged in")};const{error:_}=await O.from("profiles").update(g).eq("id",r.id);return _||await p(),{error:_}}async function p(){r&&await h(r.id)}const m={session:t,user:r,profile:i,isAdmin:l,isLoading:u,signIn:f,signUp:x,signOut:w,resetPassword:j,updateProfile:y,refreshProfile:p};return a.jsx(em.Provider,{value:m,children:e})}function ne(){const e=v.useContext(em);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>v.createElement("svg",{ref:d,...zv,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Bv(e)}`,l].join(" "),...u},[...t.map(([h,f])=>v.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=I("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=I("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=I("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=I("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=I("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=I("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=I("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=I("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=I("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=I("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=I("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=I("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=I("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=I("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=I("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=I("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=I("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=I("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=I("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=I("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=I("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=I("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=I("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=I("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=I("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=I("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=I("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=I("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),im=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Sn,{className:"h-12 w-12 animate-spin text-red-600 mx-auto"}),a.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-900",children:"Loading..."})]})}),Xv=()=>{const{user:e,isLoading:t}=ne();return t?a.jsx(im,{}):e?a.jsx(cc,{}):a.jsx(lc,{to:"/login",replace:!0})},Zv=()=>{const{isAdmin:e,isLoading:t}=ne();return t?a.jsx(im,{}):e?a.jsx(cc,{}):a.jsx(lc,{to:"/dashboard",replace:!0})},ew=({onClose:e,emergency:t})=>a.jsxs("div",{className:"fixed bottom-4 right-4 w-96 bg-white border border-red-200 rounded-lg shadow-lg z-50 overflow-hidden",children:[a.jsxs("div",{className:"bg-red-600 px-4 py-2 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(le,{className:"h-5 w-5 text-white mr-2"}),a.jsx("h3",{className:"text-white font-medium",children:"Emergency Blood Request"})]}),a.jsx("button",{onClick:e,className:"text-white hover:text-red-100",children:a.jsx(cl,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[t.patient_name," needs ",t.blood_type," blood"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Location: ",t.hospital]}),a.jsx("p",{className:"text-sm mt-2",children:a.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${t.urgency_level==="high"?"bg-red-100 text-red-800":t.urgency_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[t.urgency_level.charAt(0).toUpperCase()+t.urgency_level.slice(1)," Urgency"]})}),a.jsx("div",{className:"mt-4",children:a.jsx($,{to:`/emergency-requests?id=${t.id}`,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"View Details"})})]})]}),tw=()=>{const[e,t]=v.useState([]),{profile:n}=ne();v.useEffect(()=>{if(!n)return;const s=O.channel("emergency_alerts").on("postgres_changes",{event:"INSERT",schema:"public",table:"emergency_requests",filter:"status=eq.open"},i=>{i.new.user_id!==n.id&&(n.is_admin||n.blood_type&&n.blood_type===i.new.blood_type)&&(t(c=>[...c,i.new]),new Audio("/alert-sound.mp3").play().catch(c=>console.log("Audio play failed:",c)))}).subscribe();return()=>{s.unsubscribe()}},[n]);const r=s=>{t(e.filter(i=>i.id!==s))};return e.length===0?null:a.jsx(a.Fragment,{children:e.map(s=>a.jsx(ew,{emergency:s,onClose:()=>r(s.id)},s.id))})},nw=[{id:"1",text:"Hi there! I'm Merry, your blood donation assistant. How can I help you today?",sender:"bot",timestamp:new Date}],rw=()=>{const[e,t]=v.useState(!1),[n,r]=v.useState(nw),[s,i]=v.useState(""),[o,l]=v.useState(!1),c=v.useRef(null),{profile:u}=ne(),d=()=>{t(!e)},h=()=>{var y;(y=c.current)==null||y.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{h()},[n]);const f=y=>{i(y.target.value)},x=async y=>{l(!0),await new Promise(g=>setTimeout(g,1e3));const p=y.toLowerCase();let m="";return p.includes("hello")||p.includes("hi")?m=`Hello${u!=null&&u.first_name?` ${u.first_name}`:""}! How can I help you with blood donation today?`:p.includes("blood type")||p.includes("compatible")?m=`Here's information about blood type compatibility:

• Type O- can donate to all blood types
• Type O+ can donate to O+, A+, B+, AB+
• Type A- can donate to A-, A+, AB-, AB+
• Type A+ can donate to A+, AB+
• Type B- can donate to B-, B+, AB-, AB+
• Type B+ can donate to B+, AB+
• Type AB- can donate to AB-, AB+
• Type AB+ can donate to AB+ only`:p.includes("donate")||p.includes("donation")?m=`To donate blood, you generally need to:

1. Be at least 17 years old
2. Weigh at least 110 pounds
3. Be in good health
4. Wait 56 days between whole blood donations

You can record your donation by clicking on 'Record Donation' in the dashboard!`:p.includes("emergency")||p.includes("urgent")?m="For emergency blood requests, you can use the 'Create Emergency Request' feature. This will alert compatible donors in the area. Make sure to include accurate location information and contact details.":p.includes("thank")?m="You're welcome! I'm happy to help. Is there anything else you'd like to know about blood donation?":p.includes("eligib")||p.includes("can i donate")?m=`Blood donation eligibility depends on several factors including age, weight, health status, and medical history. Generally, you should:

• Be at least 17 years old
• Weigh at least 110 pounds
• Be in good health
• Have adequate iron levels
• Not have donated whole blood in the last 56 days

Some medications and medical conditions may affect eligibility. It's best to check with your local donation center for specific requirements.`:p.includes("benefit")||p.includes("why donate")?m=`Donating blood has several benefits:

• Saves lives - one donation can save up to 3 lives
• Free health screening
• Reduces risk of heart disease
• Burns calories
• Reduces iron stores which may lower risk of certain diseases

Most importantly, you're helping someone in need!`:p.includes("who are you")||p.includes("your name")?m="I'm Merry, your friendly blood donation assistant! I'm here to answer questions about blood donation, help you navigate the HeartBeat platform, and provide information about blood types and donation eligibility.":m="I'm not sure I understand. Would you like information about blood donation, eligibility requirements, or how to use the HeartBeat platform?",l(!1),m},w=async()=>{if(!s.trim())return;const y={id:Date.now().toString(),text:s,sender:"user",timestamp:new Date};r(g=>[...g,y]),i("");const p=await x(s),m={id:(Date.now()+1).toString(),text:p,sender:"bot",timestamp:new Date};r(g=>[...g,m])},j=y=>{y.key==="Enter"&&w()};return a.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[a.jsx("button",{onClick:d,className:"bg-red-600 hover:bg-red-700 text-white rounded-full p-3 shadow-lg flex items-center justify-center","aria-label":"Open chat",children:e?a.jsx(cl,{className:"h-6 w-6"}):a.jsx(bt,{className:"h-6 w-6"})}),e&&a.jsxs("div",{className:"absolute bottom-16 right-0 w-80 sm:w-96 bg-white rounded-lg shadow-xl overflow-hidden flex flex-col border border-gray-200",children:[a.jsxs("div",{className:"bg-red-600 text-white px-4 py-3 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-white flex items-center justify-center mr-2",children:a.jsx(bt,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:"Mercy"}),a.jsx("p",{className:"text-xs text-red-100",children:"Blood Donation Assistant"})]})]}),a.jsx("button",{onClick:d,className:"text-white hover:text-red-100",children:a.jsx(cl,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"flex-1 p-4 overflow-y-auto max-h-96 bg-gray-50",children:[n.map(y=>a.jsxs("div",{className:`mb-3 ${y.sender==="user"?"text-right":"text-left"}`,children:[a.jsx("div",{className:`inline-block px-4 py-2 rounded-lg ${y.sender==="user"?"bg-red-600 text-white rounded-br-none":"bg-white text-gray-800 border border-gray-200 rounded-bl-none"}`,children:y.text.split(`
`).map((p,m)=>a.jsxs(Hn.Fragment,{children:[p,m<y.text.split(`
`).length-1&&a.jsx("br",{})]},m))}),a.jsx("div",{className:`text-xs mt-1 ${y.sender==="user","text-gray-500"}`,children:y.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},y.id)),o&&a.jsx("div",{className:"mb-3 text-left",children:a.jsx("div",{className:"inline-block px-4 py-2 rounded-lg bg-white text-gray-800 border border-gray-200 rounded-bl-none",children:a.jsx(Sn,{className:"h-4 w-4 animate-spin"})})}),a.jsx("div",{ref:c})]}),a.jsxs("div",{className:"border-t border-gray-200 p-3 flex",children:[a.jsx("input",{type:"text",value:s,onChange:f,onKeyPress:j,placeholder:"Type your message...",className:"flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-red-500"}),a.jsx("button",{onClick:w,disabled:!s.trim()||o,className:"bg-red-600 text-white px-4 py-2 rounded-r-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(sm,{className:"h-5 w-5"})})]})]})]})},sw=()=>a.jsxs("div",{className:"bg-white",children:[a.jsxs("div",{className:"relative bg-red-50",children:[a.jsx("div",{className:"absolute inset-x-0 bottom-0",children:a.jsx("svg",{viewBox:"0 0 224 12",fill:"currentColor",className:"w-full -mb-1 text-white",preserveAspectRatio:"none",children:a.jsx("path",{d:"M0,0 C48.8902582,6.27314026 86.2235915,9.40971039 112,9.40971039 C137.776408,9.40971039 175.109742,6.27314026 224,0 L224,12.0441132 L0,12.0441132 L0,0 Z"})})}),a.jsx("div",{className:"px-4 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-24",children:a.jsxs("div",{className:"relative max-w-2xl sm:mx-auto sm:max-w-xl md:max-w-2xl sm:text-center",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(ie,{className:"h-16 w-16 text-red-600"})}),a.jsxs("h2",{className:"mb-6 font-sans text-3xl font-bold tracking-tight text-gray-900 sm:text-5xl sm:leading-none",children:["Donate Blood, ",a.jsx("br",{className:"hidden md:block"}),a.jsx("span",{className:"text-red-600",children:"Save Lives"})]}),a.jsx("p",{className:"mb-6 text-base text-gray-700 md:text-lg",children:"HeartBeat connects blood donors with those in need. Join our community and help save lives through the gift of blood donation."}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[a.jsxs($,{to:"/register",className:"inline-flex items-center justify-center h-12 px-6 font-medium tracking-wide text-white transition duration-200 rounded shadow-md bg-red-600 hover:bg-red-700 focus:shadow-outline focus:outline-none",children:["Sign Up",a.jsx(Qu,{className:"ml-2 h-4 w-4"})]}),a.jsx($,{to:"/login",className:"inline-flex items-center justify-center h-12 px-6 font-medium tracking-wide text-red-600 transition duration-200 rounded shadow-md border border-red-600 hover:bg-red-50 focus:shadow-outline focus:outline-none",children:"Login"})]}),a.jsx("p",{className:"max-w-md mb-10 text-xs text-gray-600 sm:text-sm sm:mx-auto",children:"Join thousands of donors who have already made a difference in their communities."})]})})]}),a.jsxs("div",{className:"px-4 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-20",children:[a.jsxs("div",{className:"max-w-xl mb-10 md:mx-auto sm:text-center lg:max-w-2xl md:mb-12",children:[a.jsx("h2",{className:"max-w-lg mb-6 font-sans text-3xl font-bold leading-none tracking-tight text-gray-900 sm:text-4xl md:mx-auto",children:"How HeartBeat Works"}),a.jsx("p",{className:"text-base text-gray-700 md:text-lg",children:"Our platform makes blood donation simple, efficient, and impactful."})]}),a.jsxs("div",{className:"grid gap-8 row-gap-0 lg:grid-cols-3",children:[a.jsxs("div",{className:"relative text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-red-50 text-red-600",children:a.jsx(ie,{className:"w-8 h-8"})}),a.jsx("h6",{className:"mb-2 text-xl font-bold",children:"Donate Blood"}),a.jsx("p",{className:"max-w-md mb-3 text-sm text-gray-600 sm:mx-auto",children:"Register as a donor, find donation centers near you, and track your donation history."})]}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-red-50 text-red-600",children:a.jsx(le,{className:"w-8 h-8"})}),a.jsx("h6",{className:"mb-2 text-xl font-bold",children:"Request Help"}),a.jsx("p",{className:"max-w-md mb-3 text-sm text-gray-600 sm:mx-auto",children:"Create emergency blood requests for patients in need and connect with potential donors."})]}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-red-50 text-red-600",children:a.jsx(ya,{className:"w-8 h-8"})}),a.jsx("h6",{className:"mb-2 text-xl font-bold",children:"Join Community"}),a.jsx("p",{className:"max-w-md mb-3 text-sm text-gray-600 sm:mx-auto",children:"Be part of a community dedicated to saving lives through blood donation."})]})]})]}),a.jsx("div",{className:"px-4 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-20 bg-red-50",children:a.jsxs("div",{className:"grid grid-cols-2 row-gap-8 md:grid-cols-4",children:[a.jsxs("div",{className:"text-center md:border-r",children:[a.jsx("h6",{className:"text-4xl font-bold text-red-600",children:"5K+"}),a.jsx("p",{className:"text-sm font-medium tracking-widest text-gray-800 uppercase lg:text-base",children:"Donors"})]}),a.jsxs("div",{className:"text-center md:border-r",children:[a.jsx("h6",{className:"text-4xl font-bold text-red-600",children:"10K+"}),a.jsx("p",{className:"text-sm font-medium tracking-widest text-gray-800 uppercase lg:text-base",children:"Donations"})]}),a.jsxs("div",{className:"text-center md:border-r",children:[a.jsx("h6",{className:"text-4xl font-bold text-red-600",children:"2K+"}),a.jsx("p",{className:"text-sm font-medium tracking-widest text-gray-800 uppercase lg:text-base",children:"Lives Saved"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h6",{className:"text-4xl font-bold text-red-600",children:"100+"}),a.jsx("p",{className:"text-sm font-medium tracking-widest text-gray-800 uppercase lg:text-base",children:"Hospitals"})]})]})}),a.jsxs("div",{className:"px-4 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-20",children:[a.jsx("div",{className:"max-w-xl mb-10 md:mx-auto sm:text-center lg:max-w-2xl md:mb-12",children:a.jsx("h2",{className:"max-w-lg mb-6 font-sans text-3xl font-bold leading-none tracking-tight text-gray-900 sm:text-4xl md:mx-auto",children:"What Our Community Says"})}),a.jsxs("div",{className:"grid gap-8 lg:grid-cols-3 sm:max-w-sm sm:mx-auto lg:max-w-full",children:[a.jsxs("div",{className:"p-8 bg-white border rounded shadow-sm",children:[a.jsx("p",{className:"mb-3 text-xs font-semibold tracking-wide uppercase",children:a.jsx("span",{className:"text-red-600",children:"Regular Donor"})}),a.jsx("div",{className:"mb-3 text-gray-700",children:a.jsx("p",{className:"text-sm italic",children:`"I've been donating blood for years, but HeartBeat has made the process so much easier. I can track my donations and see the impact I'm making."`})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-3",children:a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-red-50 text-red-600",children:a.jsx(Za,{className:"w-5 h-5"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800",children:"Sarah Johnson"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Donated 12 times"})]})]})]}),a.jsxs("div",{className:"p-8 bg-white border rounded shadow-sm",children:[a.jsx("p",{className:"mb-3 text-xs font-semibold tracking-wide uppercase",children:a.jsx("span",{className:"text-red-600",children:"Emergency Recipient"})}),a.jsx("div",{className:"mb-3 text-gray-700",children:a.jsx("p",{className:"text-sm italic",children:'"When my father needed emergency blood transfusions, HeartBeat helped us find donors quickly. The platform literally saved his life."'})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-3",children:a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-red-50 text-red-600",children:a.jsx(Za,{className:"w-5 h-5"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800",children:"Michael Chen"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Family of recipient"})]})]})]}),a.jsxs("div",{className:"p-8 bg-white border rounded shadow-sm",children:[a.jsx("p",{className:"mb-3 text-xs font-semibold tracking-wide uppercase",children:a.jsx("span",{className:"text-red-600",children:"Hospital Partner"})}),a.jsx("div",{className:"mb-3 text-gray-700",children:a.jsx("p",{className:"text-sm italic",children:'"HeartBeat has revolutionized how we manage blood supplies. The emergency request feature has been invaluable during critical shortages."'})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-3",children:a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-red-50 text-red-600",children:a.jsx(Za,{className:"w-5 h-5"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800",children:"Dr. Emily Rodriguez"}),a.jsx("p",{className:"text-sm text-gray-600",children:"City General Hospital"})]})]})]})]})]}),a.jsx("div",{className:"px-4 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-20 bg-red-600",children:a.jsx("div",{className:"max-w-xl sm:mx-auto lg:max-w-2xl",children:a.jsxs("div",{className:"flex flex-col mb-16 sm:text-center sm:mb-0",children:[a.jsx("div",{className:"mb-6 sm:mx-auto",children:a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-white",children:a.jsx(ie,{className:"w-6 h-6 text-red-600"})})}),a.jsxs("div",{className:"max-w-xl mb-10 md:mx-auto sm:text-center lg:max-w-2xl md:mb-12",children:[a.jsx("h2",{className:"max-w-lg mb-6 font-sans text-3xl font-bold leading-none tracking-tight text-white sm:text-4xl md:mx-auto",children:"Ready to Make a Difference?"}),a.jsx("p",{className:"text-base text-red-100 md:text-lg",children:"Join HeartBeat today and become part of a community dedicated to saving lives through blood donation."})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsxs($,{to:"/register",className:"inline-flex items-center justify-center h-12 px-6 font-medium tracking-wide text-red-600 transition duration-200 rounded shadow-md bg-white hover:bg-gray-100 focus:shadow-outline focus:outline-none",children:["Sign Up Now",a.jsx(Qu,{className:"ml-2 h-4 w-4"})]}),a.jsx($,{to:"/login",className:"inline-flex items-center justify-center h-12 px-6 font-medium tracking-wide text-white transition duration-200 rounded shadow-md border border-white hover:bg-red-700 focus:shadow-outline focus:outline-none",children:"Login"})]})]})})}),a.jsxs("div",{className:"px-4 pt-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8",children:[a.jsxs("div",{className:"grid gap-10 row-gap-6 mb-8 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"sm:col-span-2",children:[a.jsxs($,{to:"/",className:"inline-flex items-center",children:[a.jsx(ie,{className:"h-8 w-8 text-red-600"}),a.jsx("span",{className:"ml-2 text-xl font-bold tracking-wide text-gray-800",children:"HeartBeat"})]}),a.jsx("div",{className:"mt-6 lg:max-w-sm",children:a.jsx("p",{className:"text-sm text-gray-700",children:"HeartBeat is a platform dedicated to connecting blood donors with those in need, making the process of blood donation simple, efficient, and impactful."})})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsx("p",{className:"text-base font-bold tracking-wide text-gray-900",children:"Contacts"}),a.jsxs("div",{className:"flex",children:[a.jsx("p",{className:"mr-1 text-gray-700",children:"Email:"}),a.jsx("a",{href:"mailto:info@heartbeat.org",className:"text-red-600 transition-colors duration-300 hover:text-red-800",children:"info@heartbeat.org"})]}),a.jsxs("div",{className:"flex",children:[a.jsx("p",{className:"mr-1 text-gray-700",children:"Phone:"}),a.jsx("a",{href:"tel:+15555555555",className:"text-red-600 transition-colors duration-300 hover:text-red-800",children:"+1 (555) 555-5555"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-base font-bold tracking-wide text-gray-900",children:"Quick Links"}),a.jsxs("ul",{className:"mt-2 space-y-2",children:[a.jsx("li",{children:a.jsx($,{to:"/register",className:"text-red-600 transition-colors duration-300 hover:text-red-800",children:"Sign Up"})}),a.jsx("li",{children:a.jsx($,{to:"/login",className:"text-red-600 transition-colors duration-300 hover:text-red-800",children:"Login"})})]})]})]}),a.jsxs("div",{className:"flex flex-col-reverse justify-between pt-5 pb-10 border-t lg:flex-row",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"© 2025 HeartBeat. All rights reserved."}),a.jsxs("ul",{className:"flex flex-col mb-3 space-y-2 lg:mb-0 sm:space-y-0 sm:space-x-5 sm:flex-row",children:[a.jsx("li",{children:a.jsx("a",{href:"/",className:"text-sm text-gray-600 transition-colors duration-300 hover:text-red-600",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"/",className:"text-sm text-gray-600 transition-colors duration-300 hover:text-red-600",children:"Terms & Conditions"})})]})]})]})]}),iw=()=>{const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(!1),[o,l]=v.useState(""),{signIn:c}=ne(),u=pt(),d=async h=>{h.preventDefault(),l(""),i(!0);try{const{error:f}=await c(e,n);if(f)throw f;F.success("Logged in successfully!"),u("/dashboard")}catch(f){l(f.message||"Failed to log in"),F.error("Failed to log in. Please check your credentials.")}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(ie,{className:"h-12 w-12 text-red-600"})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to LifeBlood"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx($,{to:"/register",className:"font-medium text-red-600 hover:text-red-500",children:"create a new account"})]})]}),o&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(le,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(gc,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:h=>t(h.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(_s,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:h=>r(h.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"text-sm",children:a.jsx($,{to:"/forgot-password",className:"font-medium text-red-600 hover:text-red-500",children:"Forgot your password?"})})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:s?"Signing in...":"Sign in"})})]})]})})},aw=()=>{const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(""),{signUp:d}=ne(),h=pt(),f=async x=>{if(x.preventDefault(),u(""),n!==s)return u("Passwords do not match");l(!0);try{const{error:w,data:j}=await d(e,n);if(w)throw w;F.success("Account created successfully! Please complete your profile."),h("/complete-profile")}catch(w){u(w.message||"Failed to create account"),F.error("Failed to create account. Please try again.")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(ie,{className:"h-12 w-12 text-red-600"})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx($,{to:"/login",className:"font-medium text-red-600 hover:text-red-500",children:"sign in to your existing account"})]})]}),c&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(le,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:c})})]})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(gc,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:x=>t(x.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(_s,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:n,onChange:x=>r(x.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(_s,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:s,onChange:x=>i(x.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"Confirm password"})]})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:o?"Creating account...":"Create account"})})]})]})})},ow=()=>{const[e,t]=v.useState(""),[n,r]=v.useState(!1),[s,i]=v.useState(""),[o,l]=v.useState(""),{resetPassword:c}=ne(),u=async d=>{d.preventDefault(),i(""),l(""),r(!0);try{const{error:h}=await c(e);if(h)throw h;l("Password reset link sent to your email"),F.success("Password reset link sent to your email")}catch(h){console.error("Password reset error:",h),i(h.message||"Failed to reset password"),F.error("Failed to reset password. Please try again.")}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(ie,{className:"h-12 w-12 text-red-600"})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx($,{to:"/login",className:"font-medium text-red-600 hover:text-red-500",children:"sign in to your account"})]})]}),s&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(le,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:s})})]})}),o&&a.jsx("div",{className:"rounded-md bg-green-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ke,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-green-800",children:o}),a.jsx("p",{className:"mt-2 text-sm text-green-700",children:"Please check your email inbox and spam folder for the password reset link."})]})]})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(gc,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:d=>t(d.target.value),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",placeholder:"Enter your email address"})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:n?"Sending...":"Send reset link"})})]})]})})},lw=["A+","A-","B+","B-","AB+","AB-","O+","O-"],cw=()=>{const{profile:e,updateProfile:t,isLoading:n}=ne(),r=pt(),[s,i]=v.useState({first_name:"",last_name:"",blood_type:"",phone:"",address:"",city:"",state:""}),[o,l]=v.useState(!1),[c,u]=v.useState(""),[d,h]=v.useState(!1);v.useEffect(()=>{e&&e.first_name&&i({first_name:e.first_name||"",last_name:e.last_name||"",blood_type:e.blood_type||"",phone:e.phone||"",address:e.address||"",city:e.city||"",state:e.state||""})},[e]);const f=w=>{const{name:j,value:y}=w.target;i(p=>({...p,[j]:y}))},x=async w=>{w.preventDefault(),u(""),h(!1),l(!0);try{const{error:j}=await t(s);if(j)throw j;h(!0),F.success("Profile updated successfully!"),setTimeout(()=>{r("/dashboard")},1500)}catch(j){u(j.message||"Failed to update profile"),F.error("Failed to update profile. Please try again.")}finally{l(!1)}};return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-700",children:"Loading your profile..."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(ie,{className:"h-12 w-12 text-red-600 mx-auto"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Complete Your Profile"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please provide your information to complete your registration"})]}),c&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(le,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:c})})]})}),d&&a.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ke,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Profile updated successfully! Redirecting to dashboard..."})})]})}),a.jsxs("form",{className:"mt-8 space-y-6 bg-white p-6 shadow rounded-lg",onSubmit:x,children:[a.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First name"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"first_name",id:"first_name",required:!0,value:s.first_name,onChange:f,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"last_name",id:"last_name",required:!0,value:s.last_name,onChange:f,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"blood_type",className:"block text-sm font-medium text-gray-700",children:"Blood Type"}),a.jsx("div",{className:"mt-1",children:a.jsxs("select",{id:"blood_type",name:"blood_type",value:s.blood_type,onChange:f,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"Select Blood Type"}),lw.map(w=>a.jsx("option",{value:w,children:w},w))]})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"tel",name:"phone",id:"phone",value:s.phone,onChange:f,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"address",id:"address",value:s.address,onChange:f,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"city",id:"city",value:s.city,onChange:f,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"state",id:"state",value:s.state,onChange:f,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"})})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:o?"Saving...":"Save Profile"})})]})]})})},uw=()=>{const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(!1),d=pt();v.useEffect(()=>{const f=window.location.hash;(!f||!f.includes("type=recovery"))&&l("Invalid or expired password reset link. Please request a new one.")},[]);const h=async f=>{if(f.preventDefault(),l(""),u(!1),e!==n){l("Passwords do not match");return}if(e.length<6){l("Password must be at least 6 characters");return}i(!0);try{const{error:x}=await O.auth.updateUser({password:e});if(x)throw x;u(!0),F.success("Password updated successfully!"),setTimeout(()=>{d("/login")},2e3)}catch(x){console.error("Error updating password:",x),l(x.message||"Failed to update password"),F.error("Failed to update password. Please try again.")}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(ie,{className:"h-12 w-12 text-red-600"})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below"})]}),o&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(le,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:o})})]})}),c&&a.jsx("div",{className:"rounded-md bg-green-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ke,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Password updated successfully!"}),a.jsx("p",{className:"mt-2 text-sm text-green-700",children:"You will be redirected to the login page shortly."})]})]})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(_s,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:e,onChange:f=>t(f.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"New password",disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(_s,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:n,onChange:f=>r(f.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"Confirm new password",disabled:c})]})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s||c||!!o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:s?"Updating...":"Reset Password"})})]})]})})};function ot(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Rn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const am=6048e5,dw=864e5;let hw={};function va(){return hw}function Ns(e,t){var l,c,u,d;const n=va(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ot(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Vi(e){return Ns(e,{weekStartsOn:1})}function om(e){const t=ot(e),n=t.getFullYear(),r=Rn(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Vi(r),i=Rn(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Vi(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Xu(e){const t=ot(e);return t.setHours(0,0,0,0),t}function Zu(e){const t=ot(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function fw(e,t){const n=Xu(e),r=Xu(t),s=+n-Zu(n),i=+r-Zu(r);return Math.round((s-i)/dw)}function mw(e){const t=om(e),n=Rn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Vi(n)}function pw(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gw(e){if(!pw(e)&&typeof e!="number")return!1;const t=ot(e);return!isNaN(Number(t))}function xw(e){const t=ot(e),n=Rn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vw=(e,t,n)=>{let r;const s=yw[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function eo(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ww={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_w={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bw={date:eo({formats:ww,defaultWidth:"full"}),time:eo({formats:jw,defaultWidth:"full"}),dateTime:eo({formats:_w,defaultWidth:"full"})},Nw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kw=(e,t,n,r)=>Nw[e];function Ar(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Sw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ew={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ow={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rw=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$w={ordinalNumber:Rw,era:Ar({values:Sw,defaultWidth:"wide"}),quarter:Ar({values:Ew,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ar({values:Cw,defaultWidth:"wide"}),day:Ar({values:Pw,defaultWidth:"wide"}),dayPeriod:Ar({values:Tw,defaultWidth:"wide",formattingValues:Ow,defaultFormattingWidth:"wide"})};function Ir(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Dw(l,h=>h.test(o)):Lw(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Lw(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Dw(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Mw(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Aw=/^(\d+)(th|st|nd|rd)?/i,Iw=/\d+/i,Uw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fw={any:[/^b/i,/^(a|c)/i]},zw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bw={any:[/1/i,/2/i,/3/i,/4/i]},qw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ww={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qw={ordinalNumber:Mw({matchPattern:Aw,parsePattern:Iw,valueCallback:e=>parseInt(e,10)}),era:Ir({matchPatterns:Uw,defaultMatchWidth:"wide",parsePatterns:Fw,defaultParseWidth:"any"}),quarter:Ir({matchPatterns:zw,defaultMatchWidth:"wide",parsePatterns:Bw,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ir({matchPatterns:qw,defaultMatchWidth:"wide",parsePatterns:Ww,defaultParseWidth:"any"}),day:Ir({matchPatterns:Hw,defaultMatchWidth:"wide",parsePatterns:Vw,defaultParseWidth:"any"}),dayPeriod:Ir({matchPatterns:Yw,defaultMatchWidth:"any",parsePatterns:Gw,defaultParseWidth:"any"})},Kw={code:"en-US",formatDistance:vw,formatLong:bw,formatRelative:kw,localize:$w,match:Qw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jw(e){const t=ot(e);return fw(t,xw(t))+1}function Xw(e){const t=ot(e),n=+Vi(t)-+mw(t);return Math.round(n/am)+1}function lm(e,t){var d,h,f,x;const n=ot(e),r=n.getFullYear(),s=va(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(f=s.locale)==null?void 0:f.options)==null?void 0:x.firstWeekContainsDate)??1,o=Rn(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Ns(o,t),c=Rn(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Ns(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Zw(e,t){var l,c,u,d;const n=va(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=lm(e,t),i=Rn(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ns(i,t)}function e1(e,t){const n=ot(e),r=+Ns(n,t)-+Zw(n,t);return Math.round(r/am)+1}function q(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Dt={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return q(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):q(n+1,2)},d(e,t){return q(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return q(e.getHours()%12||12,t.length)},H(e,t){return q(e.getHours(),t.length)},m(e,t){return q(e.getMinutes(),t.length)},s(e,t){return q(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return q(s,t.length)}},qn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ed={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Dt.y(e,t)},Y:function(e,t,n,r){const s=lm(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return q(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):q(i,t.length)},R:function(e,t){const n=om(e);return q(n,t.length)},u:function(e,t){const n=e.getFullYear();return q(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return q(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return q(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Dt.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return q(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=e1(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):q(s,t.length)},I:function(e,t,n){const r=Xw(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):q(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Dt.d(e,t)},D:function(e,t,n){const r=Jw(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):q(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return q(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return q(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return q(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=qn.noon:r===0?s=qn.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=qn.evening:r>=12?s=qn.afternoon:r>=4?s=qn.morning:s=qn.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Dt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Dt.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):q(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):q(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Dt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Dt.s(e,t)},S:function(e,t){return Dt.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return nd(r);case"XXXX":case"XX":return yn(r);case"XXXXX":case"XXX":default:return yn(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return nd(r);case"xxxx":case"xx":return yn(r);case"xxxxx":case"xxx":default:return yn(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+td(r,":");case"OOOO":default:return"GMT"+yn(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+td(r,":");case"zzzz":default:return"GMT"+yn(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return q(r,t.length)},T:function(e,t,n){const r=e.getTime();return q(r,t.length)}};function td(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+q(i,2)}function nd(e,t){return e%60===0?(e>0?"-":"+")+q(Math.abs(e)/60,2):yn(e,t)}function yn(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=q(Math.trunc(r/60),2),i=q(r%60,2);return n+s+t+i}const rd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cm=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},t1=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return rd(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",rd(r,t)).replace("{{time}}",cm(s,t))},n1={p:cm,P:t1},r1=/^D+$/,s1=/^Y+$/,i1=["D","DD","YY","YYYY"];function a1(e){return r1.test(e)}function o1(e){return s1.test(e)}function l1(e,t,n){const r=c1(e,t,n);if(console.warn(r),i1.includes(e))throw new RangeError(r)}function c1(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const u1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h1=/^'([^]*?)'?$/,f1=/''/g,m1=/[a-zA-Z]/;function at(e,t,n){var d,h,f,x;const r=va(),s=r.locale??Kw,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((x=(f=r.locale)==null?void 0:f.options)==null?void 0:x.weekStartsOn)??0,l=ot(e);if(!gw(l))throw new RangeError("Invalid time value");let c=t.match(d1).map(w=>{const j=w[0];if(j==="p"||j==="P"){const y=n1[j];return y(w,s.formatLong)}return w}).join("").match(u1).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const j=w[0];if(j==="'")return{isToken:!1,value:p1(w)};if(ed[j])return{isToken:!0,value:w};if(j.match(m1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const j=w.value;(o1(j)||a1(j))&&l1(j,t,String(e));const y=ed[j[0]];return y(l,j,s.localize,u)}).join("")}function p1(e){const t=e.match(h1);return t?t[1].replace(f1,"'"):e}const zt=({level:e,points:t,size:n="md",showPoints:r=!0})=>{const s=()=>{switch(e){case"Bronze":return"bg-amber-100 text-amber-800 border-amber-300";case"Silver":return"bg-gray-100 text-gray-800 border-gray-300";case"Gold":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"Platinum":return"bg-blue-100 text-blue-800 border-blue-300";case"Diamond":return"bg-purple-100 text-purple-800 border-purple-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},i=()=>{switch(e){case"Bronze":return a.jsx(ht,{className:`${o()} text-amber-600`});case"Silver":return a.jsx(Kv,{className:`${o()} text-gray-600`});case"Gold":return a.jsx(Jv,{className:`${o()} text-yellow-600`});case"Platinum":return a.jsx(ll,{className:`${o()} text-blue-600`});case"Diamond":return a.jsx(ol,{className:`${o()} text-purple-600`});default:return a.jsx(ht,{className:`${o()} text-gray-600`})}},o=()=>{switch(n){case"sm":return"h-3 w-3 mr-1";case"lg":return"h-5 w-5 mr-2";default:return"h-4 w-4 mr-1.5"}},l=()=>{switch(n){case"sm":return"text-xs px-2 py-0.5";case"lg":return"text-sm px-3 py-1.5";default:return"text-xs px-2.5 py-1"}};return a.jsxs("div",{className:`inline-flex items-center rounded-full border ${s()} ${l()}`,children:[i(),a.jsx("span",{className:"font-medium",children:e}),r&&a.jsxs("span",{className:"ml-1 text-opacity-75",children:["(",t," pts)"]})]})},g1=()=>{const{profile:e}=ne(),[t,n]=v.useState([]),[r,s]=v.useState([]),[i,o]=v.useState(null),[l,c]=v.useState(0),[u,d]=v.useState({totalDonations:0,totalUnits:0,lastDonation:null}),[h,f]=v.useState(!0);return v.useEffect(()=>{(async()=>{var w;if(e)try{const{data:j,error:y}=await O.from("blood_donations").select("*").eq("user_id",e.id).order("donation_date",{ascending:!1}).limit(5);if(y)throw y;if(n(j||[]),j&&j.length>0){const k=j.reduce((P,B)=>P+B.units,0),S=((w=j[0])==null?void 0:w.donation_date)||null;d({totalDonations:j.length,totalUnits:k,lastDonation:S})}const{data:p,error:m}=await O.from("emergency_requests").select("*").eq("status","open").order("created_at",{ascending:!1}).limit(5);if(m)throw m;s(p||[]);const{data:g,error:_}=await O.from("rewards").select("*").eq("user_id",e.id).single();_||o(g);const{data:b}=await O.from("chat_participants").select("chat_room_id").eq("user_id",e.id);if(b&&b.length>0){const k=b.map(P=>P.chat_room_id),{count:S}=await O.from("chat_messages").select("*",{count:"exact",head:!0}).in("chat_room_id",k).eq("read",!1).neq("sender_id",e.id);c(S||0)}}catch(j){console.error("Error fetching dashboard data:",j)}finally{f(!1)}})()},[e]),h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between mb-8",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:["Welcome, ",(e==null?void 0:e.first_name)||"User","!"]}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Your blood type: ",(e==null?void 0:e.blood_type)||"Not specified"]})]}),a.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-3",children:[a.jsxs($,{to:"/donations/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(ie,{className:"h-4 w-4 mr-2"}),"Record Donation"]}),a.jsxs($,{to:"/emergency-requests/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(le,{className:"h-4 w-4 mr-2"}),"Request Emergency"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ie,{className:"h-6 w-6 text-red-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Donations"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:u.totalDonations})})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(tm,{className:"h-6 w-6 text-red-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Units Donated"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:u.totalUnits})})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(pc,{className:"h-6 w-6 text-red-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Last Donation"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:u.lastDonation?at(new Date(u.lastDonation),"MMM d, yyyy"):"No donations yet"})})]})})]})})}),a.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ht,{className:"h-6 w-6 text-red-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Reward Status"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:i?a.jsx(zt,{level:i.level,points:i.points}):"Not available"})})]})})]})}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:a.jsx("div",{className:"text-sm",children:a.jsx($,{to:"/rewards",className:"font-medium text-red-600 hover:text-red-500",children:"View rewards"})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-2",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Recent Donations"}),a.jsx($,{to:"/donations",className:"text-sm text-red-600 hover:text-red-500",children:"View all"})]}),a.jsx("div",{className:"border-t border-gray-200",children:t.length>0?a.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(x=>a.jsx("li",{className:"px-4 py-4 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(ie,{className:"h-6 w-6 text-red-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.donation_center}),a.jsx("div",{className:"text-sm text-gray-500",children:at(new Date(x.donation_date),"MMM d, yyyy")})]})]}),a.jsx("div",{children:a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[x.units," units"]})})]})},x.id))}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"No donations recorded yet"}),a.jsx($,{to:"/donations/new",className:"mt-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Record your first donation"})]})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Emergency Requests"}),a.jsx($,{to:"/emergency-requests",className:"text-sm text-red-600 hover:text-red-500",children:"View all"})]}),a.jsx("div",{className:"border-t border-gray-200",children:r.length>0?a.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(x=>a.jsx("li",{className:"px-4 py-4 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(le,{className:"h-6 w-6 text-red-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.hospital}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Blood Type: ",x.blood_type," • ",x.units_needed," units needed"]})]})]}),a.jsx("div",{children:a.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.urgency_level==="high"?"bg-red-100 text-red-800":x.urgency_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[x.urgency_level," urgency"]})})]})},x.id))}):a.jsx("div",{className:"text-center py-6",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"No emergency requests at the moment"})})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Messages"}),l>0&&a.jsxs("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[l," new"]})]}),a.jsx($,{to:"/messages",className:"text-sm text-red-600 hover:text-red-500",children:"View all"})]}),a.jsxs("div",{className:"border-t border-gray-200 p-6 flex flex-col items-center justify-center text-center",children:[a.jsx(bt,{className:"h-12 w-12 text-gray-400 mb-2"}),a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:l>0?`You have ${l} unread message${l>1?"s":""}`:"No unread messages"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Connect with donors and recipients through our messaging system."}),a.jsxs($,{to:"/messages",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(bt,{className:"h-4 w-4 mr-2"}),"Go to Messages"]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Rewards"}),a.jsx($,{to:"/rewards",className:"text-sm text-red-600 hover:text-red-500",children:"View details"})]}),a.jsx("div",{className:"border-t border-gray-200 p-6",children:i?a.jsxs("div",{className:"text-center",children:[a.jsx(ht,{className:"h-12 w-12 text-red-600 mx-auto mb-2"}),a.jsx("div",{className:"mb-4",children:a.jsx(zt,{level:i.level,points:i.points,size:"lg"})}),a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["You've earned ",i.points," points through your donations.",i.level!=="Diamond"&&" Keep donating to reach the next level!"]}),a.jsxs($,{to:"/rewards",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(ht,{className:"h-4 w-4 mr-2"}),"View Rewards"]})]}):a.jsxs("div",{className:"text-center",children:[a.jsx(ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"No rewards yet"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start donating blood to earn reward points and badges!"})]})})]})]})]})},x1=["A+","A-","B+","B-","AB+","AB-","O+","O-"],y1=()=>{const{profile:e,updateProfile:t,isLoading:n}=ne(),[r,s]=v.useState({first_name:"",last_name:"",blood_type:"",phone:"",address:"",city:"",state:""}),[i,o]=v.useState(!1),[l,c]=v.useState(""),[u,d]=v.useState(!1);v.useEffect(()=>{e&&s({first_name:e.first_name||"",last_name:e.last_name||"",blood_type:e.blood_type||"",phone:e.phone||"",address:e.address||"",city:e.city||"",state:e.state||""})},[e]);const h=x=>{const{name:w,value:j}=x.target;s(y=>({...y,[w]:j}))},f=async x=>{x.preventDefault(),c(""),d(!1),o(!0);try{const{error:w}=await t(r);if(w)throw w;d(!0),F.success("Profile updated successfully!"),setTimeout(()=>{d(!1)},3e3)}catch(w){c(w.message||"Failed to update profile"),F.error("Failed to update profile. Please try again.")}finally{o(!1)}};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Your Profile"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your personal information and preferences"})]})}),l&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(le,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})]})}),u&&a.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ke,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Profile updated successfully!"})})]})}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 flex items-center",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center mr-4",children:a.jsx(Pt,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:e!=null&&e.blood_type?`Blood Type: ${e.blood_type}`:"Blood Type: Not specified"})]})]}),a.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:a.jsxs("form",{onSubmit:f,children:[a.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First name"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"first_name",id:"first_name",required:!0,value:r.first_name,onChange:h,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"last_name",id:"last_name",required:!0,value:r.last_name,onChange:h,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"blood_type",className:"block text-sm font-medium text-gray-700",children:"Blood Type"}),a.jsx("div",{className:"mt-1",children:a.jsxs("select",{id:"blood_type",name:"blood_type",value:r.blood_type,onChange:h,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Select Blood Type"}),x1.map(x=>a.jsx("option",{value:x,children:x},x))]})})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"tel",name:"phone",id:"phone",value:r.phone,onChange:h,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),a.jsxs("div",{className:"sm:col-span-6",children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"address",id:"address",value:r.address,onChange:h,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"city",id:"city",value:r.city,onChange:h,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"state",id:"state",value:r.state,onChange:h,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:i?"Saving...":"Save Changes"})})]})})]})]})},v1=()=>{const{profile:e}=ne(),[t,n]=v.useState([]),[r,s]=v.useState(!0);v.useEffect(()=>{(async()=>{if(e)try{const{data:l,error:c}=await O.from("blood_donations").select("*").eq("user_id",e.id).order("donation_date",{ascending:!1});if(c)throw c;n(l||[])}catch(l){console.error("Error fetching donations:",l)}finally{s(!1)}})()},[e]);const i=o=>{switch(o){case"completed":return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[a.jsx(Ke,{className:"h-4 w-4 mr-1"})," Completed"]});case"rejected":return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:[a.jsx(wr,{className:"h-4 w-4 mr-1"})," Rejected"]});default:return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:[a.jsx($s,{className:"h-4 w-4 mr-1"})," Pending"]})}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between mb-8",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Your Donation History"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View and manage your blood donation records"})]}),a.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:a.jsxs($,{to:"/donations/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Record New Donation"]})})]}),t.length>0?a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(o=>a.jsx("li",{children:a.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(ie,{className:"h-6 w-6 text-red-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.donation_center}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Blood Type: ",o.blood_type," • ",o.units," units"]})]})]}),a.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:i(o.status)})]}),a.jsx("div",{className:"mt-2 sm:flex sm:justify-between",children:a.jsxs("div",{className:"sm:flex",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(pc,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),a.jsx("p",{children:at(new Date(o.donation_date),"MMMM d, yyyy")})]}),a.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:[a.jsx(bs,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),a.jsx("p",{children:o.donation_center})]})]})}),o.notes&&a.jsx("div",{className:"mt-2 text-sm text-gray-500",children:a.jsx("p",{children:o.notes})})]})},o.id))})}):a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[a.jsx(ie,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No donations recorded"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You haven't recorded any blood donations yet."}),a.jsx("div",{className:"mt-6",children:a.jsxs($,{to:"/donations/new",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Record Your First Donation"]})})]})})]})},w1=["A+","A-","B+","B-","AB+","AB-","O+","O-"],j1=()=>{const{profile:e,refreshProfile:t}=ne(),n=pt(),[r,s]=v.useState({blood_type:(e==null?void 0:e.blood_type)||"",donation_date:new Date().toISOString().split("T")[0],donation_center:"",units:1,notes:""}),[i,o]=v.useState(!1),[l,c]=v.useState(""),u=h=>{const{name:f,value:x}=h.target;s(w=>({...w,[f]:x}))},d=async h=>{if(h.preventDefault(),c(""),o(!0),!e){c("User profile not found"),o(!1);return}try{const{error:f}=await O.from("blood_donations").insert({user_id:e.id,blood_type:r.blood_type,donation_date:r.donation_date,donation_center:r.donation_center,units:parseInt(r.units.toString()),notes:r.notes,status:"pending"});if(f)throw f;await O.from("profiles").update({last_donation_date:r.donation_date,blood_type:r.blood_type||e.blood_type}).eq("id",e.id),await t(),F.success("Donation recorded successfully!"),n("/donations")}catch(f){c(f.message||"Failed to record donation"),F.error("Failed to record donation. Please try again.")}finally{o(!1)}};return a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Record New Donation"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add details about your blood donation"})]})}),l&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(le,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:a.jsx("div",{className:"px-4 py-5 sm:p-6",children:a.jsxs("form",{onSubmit:d,children:[a.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"blood_type",className:"block text-sm font-medium text-gray-700",children:"Blood Type"}),a.jsx("div",{className:"mt-1",children:a.jsxs("select",{id:"blood_type",name:"blood_type",required:!0,value:r.blood_type,onChange:u,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Select Blood Type"}),w1.map(h=>a.jsx("option",{value:h,children:h},h))]})})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"donation_date",className:"block text-sm font-medium text-gray-700",children:"Donation Date"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"date",name:"donation_date",id:"donation_date",required:!0,value:r.donation_date,onChange:u,max:new Date().toISOString().split("T")[0],className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),a.jsxs("div",{className:"sm:col-span-6",children:[a.jsx("label",{htmlFor:"donation_center",className:"block text-sm font-medium text-gray-700",children:"Donation Center"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"donation_center",id:"donation_center",required:!0,value:r.donation_center,onChange:u,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"e.g., City Blood Bank, Red Cross Center"})})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{htmlFor:"units",className:"block text-sm font-medium text-gray-700",children:"Units Donated"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"number",name:"units",id:"units",required:!0,min:"1",max:"10",value:r.units,onChange:u,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),a.jsxs("div",{className:"sm:col-span-6",children:[a.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes (Optional)"}),a.jsx("div",{className:"mt-1",children:a.jsx("textarea",{id:"notes",name:"notes",rows:3,value:r.notes,onChange:u,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Any additional information about your donation"})})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end",children:[a.jsx("button",{type:"button",onClick:()=>n("/donations"),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 mr-3",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:i?"Saving...":"Save Donation"})]})]})})})]})},_1=({recipientId:e,recipientName:t,className:n="",variant:r="primary",size:s="md",iconOnly:i=!1})=>{const{user:o}=ne(),l=pt(),[c,u]=v.useState(!1),d=()=>{let f="inline-flex items-center justify-center rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ";return r==="primary"?f+="bg-red-600 hover:bg-red-700 text-white ":r==="secondary"?f+="bg-red-100 hover:bg-red-200 text-red-700 ":r==="outline"&&(f+="border border-red-600 text-red-600 hover:bg-red-50 "),s==="sm"?f+=i?"p-1.5 ":"px-2.5 py-1.5 text-xs ":s==="lg"?f+=i?"p-3 ":"px-4 py-2 text-base ":f+=i?"p-2 ":"px-3 py-2 text-sm ",f+n},h=async()=>{if(!(!o||!e||o.id===e)){u(!0);try{const{data:f,error:x}=await O.rpc("get_or_create_chat_room",{user1_id:o.id,user2_id:e});if(x)throw x;l("/messages"),setTimeout(()=>{localStorage.setItem("selected_chat_room",f)},500)}catch(f){console.error("Error starting chat:",f)}finally{u(!1)}}};return a.jsxs("button",{onClick:h,disabled:c,className:d(),children:[c?a.jsx(Sn,{className:`animate-spin ${i?"":"mr-2"} h-4 w-4`}):a.jsx(bt,{className:`${i?"":"mr-2"} h-4 w-4`}),!i&&(t?`Message ${t}`:"Start Chat")]})},b1=()=>{const{profile:e}=ne(),[t,n]=v.useState([]),[r,s]=v.useState([]),[i,o]=v.useState(!0),[l,c]=v.useState("all"),u=Rt(),h=new URLSearchParams(u.search).get("id");v.useEffect(()=>{(async()=>{if(e)try{const{data:p,error:m}=await O.from("emergency_requests").select(`
            *,
            profiles:user_id (
              id,
              first_name,
              last_name,
              blood_type
            )
          `).order("created_at",{ascending:!1});if(m)throw m;n(p||[]);const{data:g,error:_}=await O.from("emergency_requests").select(`
            *,
            profiles:user_id (
              id,
              first_name,
              last_name,
              blood_type
            )
          `).eq("user_id",e.id).order("created_at",{ascending:!1});if(_)throw _;if(s(g||[]),h){const b=document.getElementById(`request-${h}`);b&&(b.scrollIntoView({behavior:"smooth"}),b.classList.add("bg-red-50"),setTimeout(()=>{b.classList.remove("bg-red-50")},3e3))}}catch(p){console.error("Error fetching emergency requests:",p)}finally{o(!1)}})()},[e,h]);const f=y=>{switch(y){case"fulfilled":return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[a.jsx(Ke,{className:"h-4 w-4 mr-1"})," Fulfilled"]});case"closed":return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:[a.jsx(wr,{className:"h-4 w-4 mr-1"})," Closed"]});default:return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:[a.jsx($s,{className:"h-4 w-4 mr-1"})," Open"]})}},x=y=>{switch(y){case"high":return a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"High Urgency"});case"medium":return a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Medium Urgency"});default:return a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Low Urgency"})}},w=y=>{if(y.latitude&&y.longitude){const p=`https://www.google.com/maps?q=${y.latitude},${y.longitude}`;window.open(p,"_blank")}else if(y.hospital){const p=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(y.hospital)}`;window.open(p,"_blank")}};if(i)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})});const j=l==="all"?t:r;return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between mb-8",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Emergency Blood Requests"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View and manage emergency blood donation requests"})]}),a.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:a.jsxs($,{to:"/emergency-requests/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Create Emergency Request"]})})]}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex","aria-label":"Tabs",children:[a.jsx("button",{onClick:()=>c("all"),className:`${l==="all"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/2 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"All Requests"}),a.jsx("button",{onClick:()=>c("my"),className:`${l==="my"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/2 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"My Requests"})]})}),j.length>0?a.jsx("ul",{className:"divide-y divide-gray-200",children:j.map(y=>a.jsx("li",{id:`request-${y.id}`,className:"transition-colors duration-300",children:a.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(le,{className:"h-6 w-6 text-red-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.hospital}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Blood Type: ",y.blood_type," • ",y.units_needed," units needed"]})]})]}),a.jsxs("div",{className:"ml-2 flex-shrink-0 flex space-x-2",children:[f(y.status),x(y.urgency_level)]})]}),a.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[a.jsxs("div",{className:"sm:flex",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Pt,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),a.jsxs("p",{children:["Patient: ",y.patient_name]})]}),a.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:[a.jsx(bs,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400 cursor-pointer",onClick:()=>w(y)}),a.jsx("p",{className:"cursor-pointer hover:text-red-600",onClick:()=>w(y),children:y.location_name||y.hospital})]}),a.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:[a.jsx(rm,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),a.jsx("p",{children:y.contact_number})]})]}),a.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[a.jsx(pc,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),a.jsx("p",{children:at(new Date(y.created_at),"MMM d, yyyy")})]})]}),y.notes&&a.jsx("div",{className:"mt-2 text-sm text-gray-500",children:a.jsx("p",{children:y.notes})}),y.profiles&&y.user_id!==(e==null?void 0:e.id)&&a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-100 flex items-center justify-center mr-2",children:a.jsx(Pt,{className:"h-4 w-4 text-gray-600"})}),a.jsxs("span",{children:["Requested by: ",y.profiles.first_name," ",y.profiles.last_name]})]}),a.jsx(_1,{recipientId:y.user_id,recipientName:`${y.profiles.first_name}`,size:"sm"})]})]})},y.id))}):a.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[a.jsx(le,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No emergency requests found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l==="all"?"There are no emergency blood requests at the moment.":"You haven't created any emergency requests yet."}),l==="my"&&a.jsx("div",{className:"mt-6",children:a.jsxs($,{to:"/emergency-requests/new",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Create Emergency Request"]})})]})]})]})},N1=["A+","A-","B+","B-","AB+","AB-","O+","O-"],k1=[{value:"high",label:"High - Needed within 24 hours"},{value:"medium",label:"Medium - Needed within 48 hours"},{value:"low",label:"Low - Needed within a week"}],S1=()=>{const{profile:e}=ne(),t=pt(),[n,r]=v.useState({blood_type:"",units_needed:1,hospital:"",patient_name:"",contact_number:(e==null?void 0:e.phone)||"",urgency_level:"medium",notes:"",latitude:"",longitude:"",location_name:""}),[s,i]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,h]=v.useState(""),f=y=>{const{name:p,value:m}=y.target;r(g=>({...g,[p]:m}))},x=()=>{if(u(!0),h(""),!navigator.geolocation){h("Geolocation is not supported by your browser"),u(!1);return}const y={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};F.loading("Detecting your precise location...",{id:"location-loading"}),navigator.geolocation.getCurrentPosition(async p=>{const{latitude:m,longitude:g,accuracy:_}=p.coords;console.log(`Location detected with accuracy: ${_} meters`);try{const b=`${m.toFixed(6)}, ${g.toFixed(6)}`;try{const k=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${m}&lon=${g}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"en","User-Agent":"HeartBeat Blood Donation App"}});if(k.ok){const S=await k.json();if(S&&S.display_name){r(P=>({...P,latitude:m.toString(),longitude:g.toString(),location_name:S.display_name,hospital:S.display_name})),F.dismiss("location-loading"),F.success(`Location detected (accuracy: ${Math.round(_)}m)`),u(!1);return}}}catch(k){console.error("Error fetching location name from Nominatim:",k)}r(k=>({...k,latitude:m.toString(),longitude:g.toString(),location_name:b,hospital:b})),F.dismiss("location-loading"),F.success(`Location coordinates detected (accuracy: ${Math.round(_)}m)`)}catch(b){console.error("Error in location processing:",b),F.dismiss("location-loading"),F.error("Failed to process location data"),h("Failed to process location data")}finally{u(!1)}},p=>{F.dismiss("location-loading");let m="Unable to retrieve your location.";switch(p.code){case p.PERMISSION_DENIED:m+=" Location access was denied. Please enable location services in your browser settings.";break;case p.POSITION_UNAVAILABLE:m+=" Location information is unavailable. Please try again in a different area.";break;case p.TIMEOUT:m+=" The request to get your location timed out. Please try again.";break;default:m+=" Please allow location access or enter manually."}h(m),u(!1),F.error("Location detection failed"),console.error("Geolocation error:",p)},y)},w=()=>{if(n.latitude&&n.longitude){const y=`https://www.google.com/maps?q=${n.latitude},${n.longitude}`;window.open(y,"_blank")}else if(n.hospital){const y=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(n.hospital)}`;window.open(y,"_blank")}},j=async y=>{if(y.preventDefault(),l(""),i(!0),!e){l("User profile not found"),i(!1);return}try{const{data:p,error:m}=await O.from("emergency_requests").insert({user_id:e.id,blood_type:n.blood_type,units_needed:parseInt(n.units_needed.toString()),hospital:n.hospital,patient_name:n.patient_name,contact_number:n.contact_number,urgency_level:n.urgency_level,notes:n.notes,status:"open",latitude:n.latitude||null,longitude:n.longitude||null,location_name:n.location_name||null}).select();if(m)throw m;F.success("Emergency request created successfully!"),new Audio("/alert-sound.mp3").play().catch(_=>console.log("Audio play failed:",_)),p&&p.length>0?t(`/emergency-requests?id=${p[0].id}`):t("/emergency-requests")}catch(p){l(p.message||"Failed to create emergency request"),F.error("Failed to create emergency request. Please try again.")}finally{i(!1)}};return a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Create Emergency Blood Request"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Request blood donation for emergency situations"})]})}),o&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(le,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:a.jsx("div",{className:"px-4 py-5 sm:p-6",children:a.jsxs("form",{onSubmit:j,children:[a.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"blood_type",className:"block text-sm font-medium text-gray-700",children:"Blood Type Needed"}),a.jsx("div",{className:"mt-1",children:a.jsxs("select",{id:"blood_type",name:"blood_type",required:!0,value:n.blood_type,onChange:f,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Select Blood Type"}),N1.map(y=>a.jsx("option",{value:y,children:y},y))]})})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"units_needed",className:"block text-sm font-medium text-gray-700",children:"Units Needed"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"number",name:"units_needed",id:"units_needed",required:!0,min:"1",max:"20",value:n.units_needed,onChange:f,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),a.jsxs("div",{className:"sm:col-span-6",children:[a.jsx("label",{htmlFor:"hospital",className:"block text-sm font-medium text-gray-700",children:"Hospital / Medical Center Location"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{type:"text",name:"hospital",id:"hospital",required:!0,value:n.hospital,onChange:f,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md pr-20",placeholder:"e.g., City General Hospital"}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:a.jsxs("button",{type:"button",onClick:x,disabled:c,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 mr-1 h-8",children:[c?a.jsx(Sn,{className:"h-4 w-4 animate-spin"}):a.jsx(bs,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1",children:"Get Location"})]})})]}),d&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d}),n.latitude&&n.longitude&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm text-gray-500",children:n.location_name||`${n.latitude}, ${n.longitude}`}),a.jsxs("button",{type:"button",onClick:w,className:"mt-1 inline-flex items-center px-2 py-1 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(bs,{className:"h-3 w-3 mr-1"}),"View on Google Maps"]})]})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"patient_name",className:"block text-sm font-medium text-gray-700",children:"Patient Name"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",name:"patient_name",id:"patient_name",required:!0,value:n.patient_name,onChange:f,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"contact_number",className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"tel",name:"contact_number",id:"contact_number",required:!0,value:n.contact_number,onChange:f,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),a.jsxs("div",{className:"sm:col-span-6",children:[a.jsx("label",{htmlFor:"urgency_level",className:"block text-sm font-medium text-gray-700",children:"Urgency Level"}),a.jsx("div",{className:"mt-1",children:a.jsx("select",{id:"urgency_level",name:"urgency_level",required:!0,value:n.urgency_level,onChange:f,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md",children:k1.map(y=>a.jsx("option",{value:y.value,children:y.label},y.value))})})]}),a.jsxs("div",{className:"sm:col-span-6",children:[a.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Additional Notes (Optional)"}),a.jsx("div",{className:"mt-1",children:a.jsx("textarea",{id:"notes",name:"notes",rows:3,value:n.notes,onChange:f,className:"shadow-sm focus:ring-red-500 focus:border-red-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Any additional information about the emergency"})})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end",children:[a.jsx("button",{type:"button",onClick:()=>t("/emergency-requests"),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 mr-3",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:s,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:s?"Creating...":"Create Request"})]})]})})})]})},E1=()=>{const{profile:e}=ne(),[t,n]=v.useState(null),[r,s]=v.useState([]),[i,o]=v.useState(!0);v.useEffect(()=>{(async()=>{if(e)try{const{data:f,error:x}=await O.from("rewards").select("*").eq("user_id",e.id).single();if(x)throw x;n(f);const{data:w,error:j}=await O.from("reward_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(j)throw j;s(w||[])}catch(f){console.error("Error fetching rewards:",f)}finally{o(!1)}})()},[e]);const l=()=>{if(!t)return{level:"Silver",points:100};switch(t.level){case"Bronze":return{level:"Silver",points:500};case"Silver":return{level:"Gold",points:1e3};case"Gold":return{level:"Platinum",points:2e3};case"Platinum":return{level:"Diamond",points:5e3};default:return{level:"Max Level",points:t.points}}},c=()=>{if(!t)return 0;const h=l(),f=u(t.level);if(t.level==="Diamond")return 500;const x=t.points-f,w=h.points-f;return Math.min(Math.round(x/w*100),500)},u=h=>{switch(h){case"Bronze":return 0;case"Silver":return 500;case"Gold":return 1e3;case"Platinum":return 2e3;case"Diamond":return 5e3;default:return 0}},d=h=>{switch(h){case"donation":return a.jsx(ht,{className:"h-5 w-5 text-red-600"});case"referral":return a.jsx(ol,{className:"h-5 w-5 text-green-600"});case"emergency":return a.jsx(Ke,{className:"h-5 w-5 text-blue-600"});default:return a.jsx(Vv,{className:"h-5 w-5 text-purple-600"})}};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Your Rewards"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track your donation rewards and achievements"})]})}),t?a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Reward Status"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Your current level and points"})]}),a.jsx(zt,{level:t.level,points:t.points,size:"lg"})]}),a.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Progress to ",l().level]}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[c(),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-red-600 h-2.5 rounded-full",style:{width:`${c()}%`}})}),a.jsx("p",{className:"mt-3 text-sm text-gray-600",children:t.level!=="Diamond"?a.jsxs(a.Fragment,{children:["You need ",l().points-t.points," more points to reach ",l().level," level."]}):a.jsx(a.Fragment,{children:"You've reached the highest level! Congratulations!"})}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-base font-medium text-gray-900 mb-3",children:"How to Earn Points"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(ht,{className:"h-5 w-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:"Donate blood: 100 points per unit"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ol,{className:"h-5 w-5 text-green-600 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:"Refer a friend who donates: 50 points"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Ke,{className:"h-5 w-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:"Respond to emergency requests: 150 points"})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-base font-medium text-gray-900 mb-3",children:"Level Benefits"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(zt,{level:"Bronze",points:0,size:"sm",showPoints:!1}),a.jsx("span",{className:"ml-2",children:"Basic donor recognition"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(zt,{level:"Silver",points:0,size:"sm",showPoints:!1}),a.jsx("span",{className:"ml-2",children:"Priority notification for blood drives"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(zt,{level:"Gold",points:0,size:"sm",showPoints:!1}),a.jsx("span",{className:"ml-2",children:"Exclusive donor events and recognition"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(zt,{level:"Platinum",points:0,size:"sm",showPoints:!1}),a.jsx("span",{className:"ml-2",children:"VIP donor status and special benefits"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(zt,{level:"Diamond",points:0,size:"sm",showPoints:!1}),a.jsx("span",{className:"ml-2",children:"Lifetime achievement recognition"})]})]})]})]})]}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Point History"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Your reward point transactions"})]}),a.jsx("div",{className:"border-t border-gray-200",children:r.length>0?a.jsx("ul",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:r.map(h=>a.jsx("li",{className:"px-4 py-4 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:d(h.transaction_type)}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.description||"Reward points"}),a.jsx("div",{className:"text-sm text-gray-500",children:at(new Date(h.created_at),"MMM d, yyyy")})]})]}),a.jsxs("div",{className:"text-sm font-medium text-green-600",children:["+",h.points," points"]})]})},h.id))}):a.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[a.jsx($s,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No transactions yet"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start donating blood to earn reward points!"})]})})]})]}):a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[a.jsx(ht,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No rewards found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"We couldn't find your rewards information. Please try again later."})]})})]})},C1=()=>{var B,M,Ce,$t;const{user:e,profile:t}=ne(),[n,r]=v.useState([]),[s,i]=v.useState(null),[o,l]=v.useState([]),[c,u]=v.useState(""),[d,h]=v.useState(!0),[f,x]=v.useState(!1),[w,j]=v.useState(!1),y=v.useRef(null);v.useEffect(()=>{const T=localStorage.getItem("selected_chat_room");T&&(i(T),localStorage.removeItem("selected_chat_room")),m();const Y=O.channel("chat_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},pe=>{pe.new.chat_room_id===s?(l(Je=>[...Je,pe.new]),_(pe.new.chat_room_id)):m()}).subscribe();return()=>{Y.unsubscribe()}},[e,s]),v.useEffect(()=>{s&&(g(s),_(s))},[s]),v.useEffect(()=>{p()},[o]);const p=()=>{var T;(T=y.current)==null||T.scrollIntoView({behavior:"smooth"})},m=async()=>{if(e){h(!0);try{const{data:T,error:Y}=await O.from("chat_participants").select(`
          chat_room_id
        `).eq("user_id",e.id);if(Y)throw Y;if(T&&T.length>0){const pe=T.map(R=>R.chat_room_id),{data:Je,error:In}=await O.from("chat_rooms").select(`
            id,
            last_message_at,
            participants:chat_participants(
              id,
              user_id,
              profile:profiles(
                first_name,
                last_name
              )
            )
          `).in("id",pe).order("last_message_at",{ascending:!1});if(In)throw In;const E=await Promise.all((Je||[]).map(async R=>{const{data:L,error:G}=await O.from("chat_messages").select("message, created_at, sender_id").eq("chat_room_id",R.id).order("created_at",{ascending:!1}).limit(1).single();return G&&G.code!=="PGRST116"&&console.error("Error fetching last message:",G),{...R,last_message:L||null}}));r(E)}else r([])}catch(T){console.error("Error fetching chat rooms:",T)}finally{h(!1)}}},g=async T=>{j(!0);try{const{data:Y,error:pe}=await O.from("chat_messages").select("*").eq("chat_room_id",T).order("created_at",{ascending:!0});if(pe)throw pe;l(Y||[])}catch(Y){console.error("Error fetching messages:",Y)}finally{j(!1)}},_=async T=>{if(e)try{await O.from("chat_messages").update({read:!0}).eq("chat_room_id",T).neq("sender_id",e.id).eq("read",!1)}catch(Y){console.error("Error marking messages as read:",Y)}},b=async()=>{if(!(!e||!s||!c.trim())){x(!0);try{const{error:T}=await O.from("chat_messages").insert({chat_room_id:s,sender_id:e.id,message:c.trim()});if(T)throw T;await O.from("chat_rooms").update({last_message_at:new Date().toISOString()}).eq("id",s),u("")}catch(T){console.error("Error sending message:",T)}finally{x(!1)}}},k=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),b())},S=T=>e?T.participants.find(pe=>pe.user_id!==e.id):null,P=T=>{const Y=new Date(T),pe=new Date;return Y.toDateString()===pe.toDateString()?at(Y,"h:mm a"):at(Y,"MMM d, h:mm a")};return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Messages"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Connect with donors and recipients"})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 h-[600px]",children:[a.jsxs("div",{className:`border-r border-gray-200 ${s?"hidden md:block":""}`,children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Conversations"})}),d?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Sn,{className:"h-8 w-8 animate-spin text-red-600"})}):n.length>0?a.jsx("ul",{className:"divide-y divide-gray-200 overflow-y-auto",style:{maxHeight:"calc(600px - 65px)"},children:n.map(T=>{var pe,Je;const Y=S(T);return a.jsx("li",{className:`hover:bg-gray-50 cursor-pointer ${s===T.id?"bg-red-50":""}`,onClick:()=>i(T.id),children:a.jsx("div",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(Pt,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{className:"ml-3",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(pe=Y==null?void 0:Y.profile)==null?void 0:pe.first_name," ",(Je=Y==null?void 0:Y.profile)==null?void 0:Je.last_name]}),T.last_message&&a.jsxs("p",{className:"text-sm text-gray-500 truncate max-w-[180px]",children:[T.last_message.sender_id===(e==null?void 0:e.id)?"You: ":"",T.last_message.message]})]})]}),T.last_message&&a.jsx("div",{className:"text-xs text-gray-500",children:P(T.last_message.created_at)})]})})},T.id)})}):a.jsxs("div",{className:"p-4 text-center",children:[a.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"No conversations yet"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Your conversations with donors and recipients will appear here."})]})]}),a.jsx("div",{className:`col-span-2 flex flex-col ${s?"":"hidden md:flex md:items-center md:justify-center"}`,children:s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center",children:[a.jsx("button",{className:"md:hidden mr-2 text-gray-500 hover:text-gray-700",onClick:()=>i(null),children:a.jsx(qv,{className:"h-5 w-5"})}),n.find(T=>T.id===s)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(Pt,{className:"h-6 w-6 text-gray-600"})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(M=(B=S(n.find(T=>T.id===s)))==null?void 0:B.profile)==null?void 0:M.first_name," ",($t=(Ce=S(n.find(T=>T.id===s)))==null?void 0:Ce.profile)==null?void 0:$t.last_name]})})]})]}),a.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:w?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Sn,{className:"h-8 w-8 animate-spin text-red-600"})}):o.length>0?a.jsxs("div",{className:"space-y-4",children:[o.map(T=>a.jsx("div",{className:`flex ${T.sender_id===(e==null?void 0:e.id)?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${T.sender_id===(e==null?void 0:e.id)?"bg-red-600 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"}`,children:[a.jsx("p",{children:T.message}),a.jsx("div",{className:`text-xs mt-1 ${T.sender_id===(e==null?void 0:e.id)?"text-red-100":"text-gray-500"}`,children:P(T.created_at)})]})},T.id)),a.jsx("div",{ref:y})]}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"No messages yet"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start the conversation by sending a message."})]})})}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"text",value:c,onChange:T=>u(T.target.value),onKeyPress:k,placeholder:"Type a message...",className:"flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500"}),a.jsx("button",{onClick:b,disabled:!c.trim()||f,className:"bg-red-600 text-white px-4 py-2 rounded-r-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?a.jsx(Sn,{className:"h-5 w-5 animate-spin"}):a.jsx(sm,{className:"h-5 w-5"})})]})})]}):a.jsxs("div",{className:"text-center p-6",children:[a.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Select a conversation"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose a conversation from the list to start messaging."})]})})]})})]})},P1=()=>{const{profile:e}=ne(),[t,n]=v.useState({totalUsers:0,totalDonations:0,totalEmergencyRequests:0,openEmergencyRequests:0,pendingDonations:0}),[r,s]=v.useState([]),[i,o]=v.useState([]),[l,c]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(!(!e||!e.is_admin))try{const{count:d}=await O.from("profiles").select("*",{count:"exact",head:!0}),{count:h}=await O.from("blood_donations").select("*",{count:"exact",head:!0}),{count:f}=await O.from("emergency_requests").select("*",{count:"exact",head:!0}),{count:x}=await O.from("emergency_requests").select("*",{count:"exact",head:!0}).eq("status","open"),{count:w}=await O.from("blood_donations").select("*",{count:"exact",head:!0}).eq("status","pending");n({totalUsers:d||0,totalDonations:h||0,totalEmergencyRequests:f||0,openEmergencyRequests:x||0,pendingDonations:w||0});const{data:j}=await O.from("blood_donations").select(`
            *,
            profiles:user_id (
              first_name,
              last_name
            )
          `).order("created_at",{ascending:!1}).limit(5);s(j||[]);const{data:y}=await O.from("emergency_requests").select(`
            *,
            profiles:user_id (
              first_name,
              last_name
            )
          `).order("created_at",{ascending:!1}).limit(5);o(y||[])}catch(d){console.error("Error fetching admin dashboard data:",d)}finally{c(!1)}})()},[e]),l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Admin Dashboard"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Overview of the blood donation system"})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3 mb-8",children:[a.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ya,{className:"h-6 w-6 text-red-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.totalUsers})})]})})]})}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:a.jsx("div",{className:"text-sm",children:a.jsx($,{to:"/admin/users",className:"font-medium text-red-600 hover:text-red-500",children:"View all users"})})})]}),a.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ie,{className:"h-6 w-6 text-red-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Donations"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.totalDonations})})]})})]})}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:a.jsx("div",{className:"text-sm",children:a.jsx($,{to:"/admin/donations",className:"font-medium text-red-600 hover:text-red-500",children:"View all donations"})})})]}),a.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(le,{className:"h-6 w-6 text-red-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Emergency Requests"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.totalEmergencyRequests})})]})})]})}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:a.jsx("div",{className:"text-sm",children:a.jsx($,{to:"/admin/emergency-requests",className:"font-medium text-red-600 hover:text-red-500",children:"View all requests"})})})]}),a.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(tm,{className:"h-6 w-6 text-yellow-500"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Donations"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.pendingDonations})})]})})]})}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:a.jsx("div",{className:"text-sm",children:a.jsx($,{to:"/admin/donations?status=pending",className:"font-medium text-yellow-600 hover:text-yellow-500",children:"Review pending donations"})})})]}),a.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(le,{className:"h-6 w-6 text-yellow-500"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Open Emergency Requests"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.openEmergencyRequests})})]})})]})}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:a.jsx("div",{className:"text-sm",children:a.jsx($,{to:"/admin/emergency-requests?status=open",className:"font-medium text-yellow-600 hover:text-yellow-500",children:"View open requests"})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-2",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Recent Donations"}),a.jsx($,{to:"/admin/donations",className:"text-sm text-red-600 hover:text-red-500",children:"View all"})]}),a.jsx("div",{className:"border-t border-gray-200",children:r.length>0?a.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(u=>{var d,h;return a.jsx("li",{children:a.jsx($,{to:`/admin/donations?id=${u.id}`,className:"block hover:bg-gray-50",children:a.jsx("div",{className:"px-4 py-4 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(ie,{className:"h-6 w-6 text-red-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(d=u.profiles)==null?void 0:d.first_name," ",(h=u.profiles)==null?void 0:h.last_name]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[u.blood_type," • ",u.units," units • ",u.donation_center]})]})]}),a.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:a.jsx(Ju,{className:"h-5 w-5 text-gray-400"})})]})})})},u.id)})}):a.jsx("div",{className:"text-center py-6",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"No donations recorded yet"})})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Recent Emergency Requests"}),a.jsx($,{to:"/admin/emergency-requests",className:"text-sm text-red-600 hover:text-red-500",children:"View all"})]}),a.jsx("div",{className:"border-t border-gray-200",children:i.length>0?a.jsx("ul",{className:"divide-y divide-gray-200",children:i.map(u=>a.jsx("li",{children:a.jsx($,{to:`/admin/emergency-requests?id=${u.id}`,className:"block hover:bg-gray-50",children:a.jsx("div",{className:"px-4 py-4 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(le,{className:"h-6 w-6 text-red-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.patient_name}),a.jsxs("div",{className:"text-sm text-gray-500",children:[u.blood_type," • ",u.units_needed," units • ",u.hospital]})]})]}),a.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:a.jsx(Ju,{className:"h-5 w-5 text-gray-400"})})]})})})},u.id))}):a.jsx("div",{className:"text-center py-6",children:a.jsx("p",{className:"text-gray-500 text-sm",children:"No emergency requests yet"})})})]})]})]})},T1=()=>{const{profile:e}=ne(),t=Rt(),r=new URLSearchParams(t.search).get("status")||"all",[s,i]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(r),[d,h]=v.useState("");v.useEffect(()=>{f()},[e,c]);const f=async()=>{if(!(!e||!e.is_admin)){l(!0);try{let y=O.from("blood_donations").select(`
          *,
          profiles:user_id (
            id,
            first_name,
            last_name
          )
        `).order("created_at",{ascending:!1});c!=="all"&&(y=y.eq("status",c));const{data:p,error:m}=await y;if(m)throw m;i(p||[])}catch(y){console.error("Error fetching donations:",y),F.error("Failed to load donations")}finally{l(!1)}}},x=async(y,p)=>{try{const{error:m}=await O.from("blood_donations").update({status:p}).eq("id",y);if(m)throw m;i(s.map(g=>g.id===y?{...g,status:p}:g)),F.success(`Donation status updated to ${p}`)}catch(m){console.error("Error updating donation status:",m),F.error("Failed to update donation status")}},w=y=>{switch(y){case"completed":return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[a.jsx(Ke,{className:"h-4 w-4 mr-1"})," Completed"]});case"rejected":return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:[a.jsx(wr,{className:"h-4 w-4 mr-1"})," Rejected"]});default:return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:[a.jsx($s,{className:"h-4 w-4 mr-1"})," Pending"]})}},j=s.filter(y=>{var _,b;const p=`${(_=y.profiles)==null?void 0:_.first_name} ${(b=y.profiles)==null?void 0:b.last_name}`.toLowerCase(),m=y.donation_center.toLowerCase(),g=d.toLowerCase();return p.includes(g)||m.includes(g)});return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Manage Donations"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Review and manage blood donation records"})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg mb-8",children:a.jsx("div",{className:"px-4 py-5 sm:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xc,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",name:"search",id:"search",value:d,onChange:y=>h(y.target.value),className:"focus:ring-red-500 focus:border-red-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search by donor name or donation center"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Filter by Status"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(nm,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("select",{id:"status",name:"status",value:c,onChange:y=>u(y.target.value),className:"focus:ring-red-500 focus:border-red-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})]})})}),j.length>0?a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("ul",{className:"divide-y divide-gray-200",children:j.map(y=>{var p,m;return a.jsx("li",{children:a.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(ie,{className:"h-6 w-6 text-red-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(p=y.profiles)==null?void 0:p.first_name," ",(m=y.profiles)==null?void 0:m.last_name]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Blood Type: ",y.blood_type," • ",y.units," units"]})]})]}),a.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:w(y.status)})]}),a.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[a.jsxs("div",{className:"sm:flex",children:[a.jsx("div",{className:"flex items-center text-sm text-gray-500",children:a.jsxs("p",{children:["Donation Date: ",at(new Date(y.donation_date),"MMM d, yyyy")]})}),a.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:a.jsxs("p",{children:["Center: ",y.donation_center]})})]}),a.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:a.jsxs("p",{children:["Submitted: ",at(new Date(y.created_at),"MMM d, yyyy")]})})]}),y.status==="pending"&&a.jsxs("div",{className:"mt-4 flex space-x-3",children:[a.jsxs("button",{onClick:()=>x(y.id,"completed"),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx(Ke,{className:"h-4 w-4 mr-1"})," Approve"]}),a.jsxs("button",{onClick:()=>x(y.id,"rejected"),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(wr,{className:"h-4 w-4 mr-1"})," Reject"]})]})]})},y.id)})})}):a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[a.jsx(ie,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No donations found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c!=="all"?`No donations with status "${c}" found.`:"No donations match your search criteria."})]})})]})},O1=()=>{const{profile:e}=ne(),t=Rt(),n=new URLSearchParams(t.search),r=n.get("status")||"all",s=n.get("id"),[i,o]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState(r),[h,f]=v.useState("");v.useEffect(()=>{x()},[e,u]),v.useEffect(()=>{if(s){const g=document.getElementById(`request-${s}`);g&&(g.scrollIntoView({behavior:"smooth"}),g.classList.add("bg-red-50"),setTimeout(()=>{g.classList.remove("bg-red-50")},3e3))}},[s,i]);const x=async()=>{if(!(!e||!e.is_admin)){c(!0);try{let g=O.from("emergency_requests").select(`
          *,
          profiles:user_id (
            id,
            first_name,
            last_name
          )
        `).order("created_at",{ascending:!1});u!=="all"&&(g=g.eq("status",u));const{data:_,error:b}=await g;if(b)throw b;o(_||[])}catch(g){console.error("Error fetching emergency requests:",g),F.error("Failed to load emergency requests")}finally{c(!1)}}},w=async(g,_)=>{try{const{error:b}=await O.from("emergency_requests").update({status:_}).eq("id",g);if(b)throw b;o(i.map(k=>k.id===g?{...k,status:_}:k)),F.success(`Emergency request status updated to ${_}`)}catch(b){console.error("Error updating request status:",b),F.error("Failed to update request status")}},j=g=>{switch(g){case"fulfilled":return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[a.jsx(Ke,{className:"h-4 w-4 mr-1"})," Fulfilled"]});case"closed":return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:[a.jsx(wr,{className:"h-4 w-4 mr-1"})," Closed"]});default:return a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:[a.jsx($s,{className:"h-4 w-4 mr-1"})," Open"]})}},y=g=>{switch(g){case"high":return a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"High Urgency"});case"medium":return a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Medium Urgency"});default:return a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Low Urgency"})}},p=g=>{if(g.latitude&&g.longitude){const _=`https://www.google.com/maps?q=${g.latitude},${g.longitude}`;window.open(_,"_blank")}else if(g.hospital){const _=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(g.hospital)}`;window.open(_,"_blank")}},m=i.filter(g=>{var P,B;const _=g.patient_name.toLowerCase(),b=g.hospital.toLowerCase(),k=`${(P=g.profiles)==null?void 0:P.first_name} ${(B=g.profiles)==null?void 0:B.last_name}`.toLowerCase(),S=h.toLowerCase();return _.includes(S)||b.includes(S)||k.includes(S)});return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Manage Emergency Requests"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Review and manage emergency blood requests"})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg mb-8",children:a.jsx("div",{className:"px-4 py-5 sm:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xc,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",name:"search",id:"search",value:h,onChange:g=>f(g.target.value),className:"focus:ring-red-500 focus:border-red-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search by patient name, hospital, or requester"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Filter by Status"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(nm,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("select",{id:"status",name:"status",value:u,onChange:g=>d(g.target.value),className:"focus:ring-red-500 focus:border-red-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"fulfilled",children:"Fulfilled"}),a.jsx("option",{value:"closed",children:"Closed"})]})]})]})]})})}),m.length>0?a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("ul",{className:"divide-y divide-gray-200",children:m.map(g=>{var _,b;return a.jsx("li",{id:`request-${g.id}`,className:"transition-colors duration-300",children:a.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(le,{className:"h-6 w-6 text-red-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.patient_name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Blood Type: ",g.blood_type," • ",g.units_needed," units needed"]})]})]}),a.jsxs("div",{className:"ml-2 flex-shrink-0 flex space-x-2",children:[j(g.status),y(g.urgency_level)]})]}),a.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[a.jsxs("div",{className:"sm:flex",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(bs,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400 cursor-pointer",onClick:()=>p(g)}),a.jsx("p",{className:"cursor-pointer hover:text-red-600",onClick:()=>p(g),children:g.location_name||g.hospital})]}),a.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:[a.jsx(rm,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),a.jsxs("p",{children:["Contact: ",g.contact_number]})]}),a.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:a.jsxs("p",{children:["Requested by: ",(_=g.profiles)==null?void 0:_.first_name," ",(b=g.profiles)==null?void 0:b.last_name]})})]}),a.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:a.jsx("p",{children:at(new Date(g.created_at),"MMM d, yyyy")})})]}),g.status==="open"&&a.jsxs("div",{className:"mt-4 flex space-x-3",children:[a.jsxs("button",{onClick:()=>w(g.id,"fulfilled"),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx(Ke,{className:"h-4 w-4 mr-1"})," Mark as Fulfilled"]}),a.jsxs("button",{onClick:()=>w(g.id,"closed"),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[a.jsx(wr,{className:"h-4 w-4 mr-1"})," Close Request"]})]})]})},g.id)})})}):a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[a.jsx(le,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No emergency requests found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u!=="all"?`No emergency requests with status "${u}" found.`:"No emergency requests match your search criteria."})]})})]})},R1=()=>{const{profile:e}=ne(),[t,n]=v.useState([]),[r,s]=v.useState(!0),[i,o]=v.useState("");v.useEffect(()=>{l()},[e]);const l=async()=>{if(!(!e||!e.is_admin)){s(!0);try{const{data:d,error:h}=await O.from("profiles").select("*").order("created_at",{ascending:!1});if(h)throw h;n(d||[])}catch(d){console.error("Error fetching users:",d),F.error("Failed to load users")}finally{s(!1)}}},c=async(d,h)=>{try{const{error:f}=await O.from("profiles").update({is_admin:!h}).eq("id",d);if(f)throw f;n(t.map(x=>x.id===d?{...x,is_admin:!h}:x)),F.success(`User admin status ${h?"revoked":"granted"}`)}catch(f){console.error("Error updating user admin status:",f),F.error("Failed to update user admin status")}},u=t.filter(d=>{const h=`${d.first_name} ${d.last_name}`.toLowerCase(),f=i.toLowerCase();return h.includes(f)});return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Manage Users"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View and manage user accounts"})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg mb-8",children:a.jsx("div",{className:"px-4 py-5 sm:p-6",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search Users"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xc,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",name:"search",id:"search",value:i,onChange:d=>o(d.target.value),className:"focus:ring-red-500 focus:border-red-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search by name"})]})]})})}),u.length>0?a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("ul",{className:"divide-y divide-gray-200",children:u.map(d=>a.jsx("li",{children:a.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(Pt,{className:"h-6 w-6 text-red-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[d.first_name," ",d.last_name]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Blood Type: ",d.blood_type||"Not specified"]})]})]}),a.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:d.is_admin?a.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800",children:[a.jsx(ll,{className:"h-4 w-4 mr-1"})," Admin"]}):a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"User"})})]}),a.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[a.jsxs("div",{className:"sm:flex",children:[d.phone&&a.jsx("div",{className:"flex items-center text-sm text-gray-500",children:a.jsxs("p",{children:["Phone: ",d.phone]})}),d.city&&a.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:a.jsxs("p",{children:["Location: ",d.city,", ",d.state]})})]}),a.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:a.jsxs("p",{children:["Joined: ",at(new Date(d.created_at),"MMM d, yyyy")]})})]}),d.id!==(e==null?void 0:e.id)&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>c(d.id,d.is_admin),className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white ${d.is_admin?"bg-gray-600 hover:bg-gray-700 focus:ring-gray-500":"bg-purple-600 hover:bg-purple-700 focus:ring-purple-500"} focus:outline-none focus:ring-2 focus:ring-offset-2`,children:d.is_admin?a.jsxs(a.Fragment,{children:[a.jsx(Qv,{className:"h-4 w-4 mr-1"})," Remove Admin"]}):a.jsxs(a.Fragment,{children:[a.jsx(ll,{className:"h-4 w-4 mr-1"})," Make Admin"]})})})]})},d.id))})}):a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[a.jsx(ya,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No users match your search criteria."})]})})]})},$1=()=>{const{user:e,signOut:t,profile:n}=ne(),r=pt(),[s,i]=Hn.useState(!1),[o,l]=Hn.useState(!1),[c,u]=Hn.useState(0);Hn.useEffect(()=>{const h=async()=>{const{count:x,error:w}=await O.from("emergency_requests").select("*",{count:"exact",head:!0}).eq("status","open");!w&&x!==null&&u(x)};h();const f=O.channel("emergency_changes_nav").on("postgres_changes",{event:"*",schema:"public",table:"emergency_requests"},()=>{h()}).subscribe();return()=>{f.unsubscribe()}},[]);const d=async()=>{await t(),r("/login")};return a.jsxs("nav",{className:"bg-white shadow-sm",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between h-16",children:[a.jsx("div",{className:"flex",children:a.jsx("div",{className:"flex-shrink-0 flex items-center",children:a.jsxs($,{to:"/dashboard",className:"flex items-center",children:[a.jsx(ie,{className:"h-8 w-8 text-red-600"}),a.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"HeartBeat"})]})})}),a.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:[c>0&&a.jsxs($,{to:"/emergency-requests",className:"mr-4 relative",children:[a.jsx(Ku,{className:"h-6 w-6 text-red-600"}),a.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-100",children:a.jsx("span",{className:"text-xs font-medium text-red-600",children:c})})]}),e&&a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",className:"flex items-center max-w-xs rounded-full text-sm focus:outline-none",onClick:()=>l(!o),children:[a.jsx("span",{className:"sr-only",children:"Open user menu"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(Pt,{className:"h-5 w-5 text-red-600"})}),a.jsx("span",{className:"ml-2 text-gray-700",children:n!=null&&n.first_name?`${n.first_name} ${n.last_name}`:e.email})]})]}),o&&a.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 z-10",children:[a.jsx($,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>l(!1),children:"Your Profile"}),a.jsx("button",{onClick:()=>{l(!1),d()},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})]})]})]}),a.jsxs("div",{className:"flex items-center sm:hidden",children:[c>0&&a.jsxs($,{to:"/emergency-requests",className:"mr-4 relative",children:[a.jsx(Ku,{className:"h-6 w-6 text-red-600"}),a.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-100",children:a.jsx("span",{className:"text-xs font-medium text-red-600",children:c})})]}),a.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none",onClick:()=>i(!s),children:[a.jsx("span",{className:"sr-only",children:"Open main menu"}),a.jsx(Yv,{className:"block h-6 w-6","aria-hidden":"true"})]})]})]})}),s&&a.jsxs("div",{className:"sm:hidden",children:[a.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[a.jsx($,{to:"/dashboard",className:"block pl-3 pr-4 py-2 border-l-4 border-red-500 text-base font-medium text-red-700 bg-red-50",onClick:()=>i(!1),children:"Dashboard"}),a.jsx($,{to:"/donations",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",onClick:()=>i(!1),children:"My Donations"}),a.jsxs($,{to:"/emergency-requests",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 relative",onClick:()=>i(!1),children:["Emergency Requests",c>0&&a.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex h-5 w-5 items-center justify-center rounded-full bg-red-100",children:a.jsx("span",{className:"text-xs font-medium text-red-600",children:c})})]})]}),a.jsxs("div",{className:"pt-4 pb-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center px-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(Pt,{className:"h-6 w-6 text-red-600"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"text-base font-medium text-gray-800",children:n!=null&&n.first_name?`${n.first_name} ${n.last_name}`:e==null?void 0:e.email}),a.jsx("div",{className:"text-sm font-medium text-gray-500",children:e==null?void 0:e.email})]})]}),a.jsxs("div",{className:"mt-3 space-y-1",children:[a.jsx($,{to:"/profile",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:()=>i(!1),children:"Your Profile"}),a.jsx("button",{onClick:()=>{i(!1),d()},className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Sign out"})]})]})]})]})},L1=({isAdmin:e})=>{const t=Rt(),[n,r]=v.useState(0),[s,i]=v.useState(0);v.useEffect(()=>{const u=async()=>{const{count:x,error:w}=await O.from("emergency_requests").select("*",{count:"exact",head:!0}).eq("status","open");!w&&x!==null&&r(x)},d=async()=>{var w,j;const{data:x}=await O.from("chat_participants").select("chat_room_id").eq("user_id",((w=(await O.auth.getUser()).data.user)==null?void 0:w.id)||"");if(x&&x.length>0){const y=x.map(m=>m.chat_room_id),{count:p}=await O.from("chat_messages").select("*",{count:"exact",head:!0}).in("chat_room_id",y).eq("read",!1).neq("sender_id",((j=(await O.auth.getUser()).data.user)==null?void 0:j.id)||"");i(p||0)}};u(),d();const h=O.channel("emergency_changes").on("postgres_changes",{event:"*",schema:"public",table:"emergency_requests"},()=>{u()}).subscribe(),f=O.channel("chat_message_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},()=>{d()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:"read=eq.true"},()=>{d()}).subscribe();return()=>{h.unsubscribe(),f.unsubscribe()}},[]);const o=[{name:"Dashboard",icon:Hv,path:"/dashboard"},{name:"My Donations",icon:ie,path:"/donations"},{name:"Emergency Requests",icon:le,path:"/emergency-requests",alert:n>0,alertCount:n},{name:"Messages",icon:bt,path:"/messages",alert:s>0,alertCount:s},{name:"Rewards",icon:ht,path:"/rewards"},{name:"My Profile",icon:Pt,path:"/profile"}],l=[{name:"Admin Dashboard",icon:Gv,path:"/admin"},{name:"Manage Users",icon:ya,path:"/admin/users"},{name:"Manage Donations",icon:ie,path:"/admin/donations"},{name:"Manage Emergencies",icon:Wv,path:"/admin/emergency-requests",alert:n>0,alertCount:n}],c=e?[...o,...l]:o;return a.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:a.jsx("div",{className:"flex flex-col w-64",children:a.jsx("div",{className:"flex flex-col h-0 flex-1 bg-white border-r border-gray-200",children:a.jsx("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:a.jsx("div",{className:"flex-1 px-2 space-y-1 bg-white",children:c.map(u=>{const d=t.pathname===u.path;return a.jsxs($,{to:u.path,className:`${d?"bg-red-50 text-red-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-sm font-medium rounded-md relative`,children:[a.jsx(u.icon,{className:`${d?"text-red-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-6 w-6`,"aria-hidden":"true"}),u.name,u.alert&&a.jsx("span",{className:"absolute right-2 flex items-center",children:a.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-red-100",children:a.jsx("span",{className:"text-xs font-medium text-red-600",children:u.alertCount})})})]},u.name)})})})})})})},D1=()=>{const{isAdmin:e}=ne();return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx($1,{}),a.jsxs("div",{className:"flex",children:[a.jsx(L1,{isAdmin:e}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx(cc,{})})]})]})};function M1(){return a.jsx(Ag,{children:a.jsxs(Fv,{children:[a.jsx(Tx,{position:"top-center"}),a.jsx(tw,{}),a.jsx(rw,{}),a.jsxs(Tg,{children:[a.jsx(X,{path:"/",element:a.jsx(sw,{})}),a.jsx(X,{path:"/login",element:a.jsx(iw,{})}),a.jsx(X,{path:"/register",element:a.jsx(aw,{})}),a.jsx(X,{path:"/forgot-password",element:a.jsx(ow,{})}),a.jsx(X,{path:"/reset-password",element:a.jsx(uw,{})}),a.jsxs(X,{element:a.jsx(Xv,{}),children:[a.jsx(X,{path:"/complete-profile",element:a.jsx(cw,{})}),a.jsxs(X,{element:a.jsx(D1,{}),children:[a.jsx(X,{path:"/dashboard",element:a.jsx(g1,{})}),a.jsx(X,{path:"/profile",element:a.jsx(y1,{})}),a.jsx(X,{path:"/donations",element:a.jsx(v1,{})}),a.jsx(X,{path:"/donations/new",element:a.jsx(j1,{})}),a.jsx(X,{path:"/emergency-requests",element:a.jsx(b1,{})}),a.jsx(X,{path:"/emergency-requests/new",element:a.jsx(S1,{})}),a.jsx(X,{path:"/rewards",element:a.jsx(E1,{})}),a.jsx(X,{path:"/messages",element:a.jsx(C1,{})}),a.jsxs(X,{element:a.jsx(Zv,{}),children:[a.jsx(X,{path:"/admin",element:a.jsx(P1,{})}),a.jsx(X,{path:"/admin/users",element:a.jsx(R1,{})}),a.jsx(X,{path:"/admin/donations",element:a.jsx(T1,{})}),a.jsx(X,{path:"/admin/emergency-requests",element:a.jsx(O1,{})})]})]})]}),a.jsx(X,{path:"*",element:a.jsx(lc,{to:"/",replace:!0})})]})]})})}xf(document.getElementById("root")).render(a.jsx(v.StrictMode,{children:a.jsx(M1,{})}));export{dm as g};
